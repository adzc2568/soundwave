<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./css/example.css">
    <title>Example</title>
</head>

<body>
    <div id="app">
        <div class="nav_bar flexbox">
            <div class="logo"></div>
            <div class="main_list flexbox">
                <h4>REMIX</h4>
                <h4>COLLECTION</h4>
                <h4>ACTIVITY</h4>
                <h4>LIBRARY</h4>
            </div>
            <label class="search" @click="search_click">
                <div class="search_icon"></div>
                <input class="search_bar" type="text" />
                <div class="tag_container">
                </div>
            </label>
            <div class="mem_bt" @click="mem_bt_click"></div>
            <div class="mem_list" @click="stopPropagation">
                <h4>會員資料</h4>
                <h4>個人音樂庫</h4>
                <h4>歌曲上下架</h4>
                <h4>儲值/儲值紀錄</h4>
                <h4>贊助紀錄</h4>
            </div>
        </div>
        <header>
            <h1>MEMBER</h1>
            <div class="header_bg"></div>
        </header>

        <!--  ↓↓↓↓↓  Code Here  ↓↓↓↓↓  -->
    </div>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js'></script>
    <script>
        let _search_click = false;
        let _mem_bt_click = false;

        new Vue({
            el: '#app',
            data: {
                choose_money: 100,
                isActive: 1,
            },
            methods: {
                search_click(e) {
                    _search_click = true;
                    _mem_bt_click = false;
                    e.stopPropagation();
                    if (_search_click) {
                        document.querySelector(".search_bar").focus();
                        document
                            .querySelector("label.search")
                            .setAttribute("style", "width: 250px;");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "filter: opacity(1); width: 250px;");
                        document
                            .querySelector(".tag_container")
                            .setAttribute(
                                "style",
                                "filter: opacity(1); width: 250px; height: 200px;  z-index: 99;"
                            );
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "height: 0px;");
                    } else {
                        document
                            .querySelector("label.search")
                            .setAttribute("style", "width: 250px;");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "filter: opacity(1); width: 250px;");
                        document.querySelector(".search_bar").focus();

                        document
                            .querySelector(".tag_container")
                            .setAttribute(
                                "style",
                                "filter: opacity(1); width: 250px; height: 200px;  z-index: 99;"
                            );
                    }
                },
                stopPropagation(e) {
                    e.stopPropagation();
                },
                mem_bt_click(e) {
                    _mem_bt_click = true;
                    _search_click = false;

                    e.stopPropagation();
                    if (_mem_bt_click) {
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "height: 200px;");
                        document
                            .querySelector("label.search")
                            .setAttribute("style", "width: 50px;");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "opacity: 0; width: 50px;");
                        document
                            .querySelector(".tag_container")
                            .setAttribute(
                                "style",
                                "filter: opacity(0); width: 50px; height: 50px;"
                            );
                    } else {
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "height: 200px;");
                    }
                },
                app_click() {
                    _search_click = false;
                    _mem_bt_click = false;
                    document.querySelector("label.search").setAttribute("style", "width: 50px;");
                    document.querySelector(".search_bar").setAttribute("style", "opacity: 0; width: 50px;");
                    document.querySelector(".tag_container")
                        .setAttribute(
                            "style",
                            "filter: opacity(0); width: 50px; height: 50px;"
                        );
                    document.querySelector(".mem_list").setAttribute("style", "height: 0px;");
                },

            },
            mounted() {
                document.addEventListener('click', this.app_click);
            },
        })
    </script>
</body>

</html>