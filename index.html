<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sound Wave</title>
    <link rel="Shortcut Icon" type="image/x-icon" href="./img/collection/smalllogo.ico" />
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pagePiling.js/1.5.6/jquery.pagepiling.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pagePiling.js/1.5.6/jquery.pagepiling.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.2.0/pixi.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pixi-filters@3.0.3/dist/pixi-filters.js"></script>
    <style>
        #loader {
            position: fixed;
            z-index: 99999;
            width: 100%;
            height: 100%;
            background: #333;
            transition: all 0.6s;
        }

        .line_container {
            position: relative;
            left: calc(50% - 20px);
            top: calc(50% - 20px);
            width: 40px;
            height: 40px;
        }

        #loader .line {
            width: 8px;
            position: absolute;
            border-radius: 5px;
            bottom: 0;
            background: -webkit-gradient(linear, left top, left bottom, from(#1ee95d), to(#5714ce));
            background: -webkit-linear-gradient(top, #1ee95d, #5714ce);
            background: -o-linear-gradient(top, #1ee95d, #5714ce);
            background: linear-gradient(to bottom, #1ee95d, #5714ce);
        }

        #loader .line1 {
            left: 0;
            -webkit-animation: line-grow 0.5s ease alternate infinite;
            animation: line-grow 0.5s ease alternate infinite;
        }

        #loader .line2 {
            left: 20px;
            -webkit-animation: line-grow 0.5s 0.2s ease alternate infinite;
            animation: line-grow 0.5s 0.2s ease alternate infinite;
        }

        #loader .line3 {
            left: 40px;
            -webkit-animation: line-grow 0.5s 0.4s ease alternate infinite;
            animation: line-grow 0.5s 0.4s ease alternate infinite;
        }

        @-webkit-keyframes line-grow {
            0% {
                height: 0;
            }

            100% {
                height: 40px;
            }
        }

        @keyframes line-grow {
            0% {
                height: 0;
            }

            100% {
                height: 40px;
            }
        }
    </style>
</head>

<body>
    <div id="loader">
        <div class="line_container">
            <div class="line line1"></div>
            <div class="line line2"></div>
            <div class="line line3"></div>
        </div>
    </div>
    <script>
        window.addEventListener('load', () => {
            $('#loader').fadeOut();
        });
    </script>
    <div id="home_app">
        <div class="nav_bar flexbox">
            <div class="hamburger" @click="hamburger_click">
                <div class="hamburger-box">
                    <div class="hamburger-inner"></div>
                </div>
            </div>
            <div class="mobile_list" @click="stopPropagation">
                <div class="paint_border"></div>
                <ul>
                    <li class="REMIX flexbox">
                        <a href="./remix.html">
                        </a>
                    </li>
                    <li class="COLLECTION flexbox">
                        <a href="./collection.html">
                        </a>
                    </li>
                    <li class="ACTIVITY flexbox">
                        <a href="./activity.html">
                        </a>
                    </li>
                    <li class="LIBRARY flexbox">
                        <a href="./library.html">
                        </a>
                    </li>
                </ul>
            </div>
            <div class="logo_container">
                <a href="./index.html">
                    <div class="logo"></div>
                    <div class="finger"></div>
                </a>
            </div>
            <ul class="main_list flexbox">
                <li class="REMIX flexbox">
                    <a href="./remix.html">
                    </a>
                </li>
                <li class="COLLECTION flexbox">
                    <a href="./collection.html">
                    </a>
                </li>
                <li class="ACTIVITY flexbox">
                    <a href="./activity.html">
                    </a>
                </li>
                <li class="LIBRARY flexbox">
                    <a href="./library.html">
                    </a>
                </li>
            </ul>
            <div class="search_bt" @click="search_bt_click">
                <a href="#"></a>
            </div>
            <div class="search_bar" @click="stopPropagation">
                <input class="search" type="text" />
                <div class="tag_container">
                </div>
            </div>

            <div class="mem_bt" @click="mem_bt_click" v-if="mem_login == true">
                <a href="#"></a>
            </div>
            <div class="login_bt" @click="" v-if="mem_login == false">
                <a href="./login.html"></a>
            </div>
            <div class="mem_list" @click="stopPropagation">
                <div class="paint_border"></div>
                <ul>
                    <li>
                        <a href="./profile.html">
                            <h4>Profile</h4>
                        </a>
                    </li>
                    <li>
                        <a href="./songsadded.html">
                            <h4>
                                Song Upload
                                <br />&amp; Remove
                            </h4>
                        </a>
                    </li>
                    <li>
                        <a href="./store.html">
                            <h4>
                                Store Value
                                <br />&amp;Store Record
                            </h4>
                        </a>
                    </li>
                    <li>
                        <a href="./donate.html">
                            <h4>Donate Record</h4>
                        </a>
                    </li>
                    <li @click="logout">
                        <a href="#">
                            <h4>Log Out</h4>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

        <div id="pagepiling">
            <div class="home_sec home_sec01 section">
                <div class="home_paint01"></div>
                <div class="home_paint02"></div>
                <div class="home_img_container">
                    <div class="home_stylus"></div>
                    <div class="home_vinyl_records">
                        <div class="home_cover_img">
                        </div>
                    </div>
                </div>
                <div class="home_wave_container">
                </div>
            </div>
            <div class="home_sec home_sec02 section">
                <div class="home_paint01"></div>
                <div class="home_paint02"></div>
                <div class="home_mixer_bt">
                    <div class="home_mixer_box">
                        <div class="home_mixer"></div>
                        <div class="close"><i class="far fa-times-circle"></i></div>
                    </div>
                </div>
                <div class="home_title home_remix">
                </div>
                <div class="home_container">
                    <h2>Creative melody and beat<span>Keeping it real!</span></h2>
                    <div class="content">
                        <div class="text0">
                            <h3>Ordinary operation, Unoperation Creation</h3>
                            <p>Want to create music without knowing how to start? With soundwave mixing tools, everyone
                                can do it. With just a few simple steps, you can complete your own song.</p>
                            <h4>Go Remix Now! >>></h4>
                            <div class="home_more_bt">
                                <a href="./remix.html"></a>
                            </div>
                            <div class="hidden"></div>
                        </div>
                        <ul>
                            <li class="home_li">
                                <span class="number">1</span>
                                <span class="toptext">Online</span>
                                <span class="bottomtext">Remix</span>
                                <span class="arrow">▶</span>
                            </li>
                            <li class="home_li">
                                <span class="number">2</span>
                                <span class="toptext">Complete</span>
                                <span class="bottomtext">Download</span>
                                <span class="arrow">▶</span>
                            </li>
                            <li class="home_li">
                                <span class="number">3</span>
                                <span class="toptext">Rank</span>
                                <span class="bottomtext">Upload</span>
                                <span class="arrow">▶</span>
                            </li>
                        </ul>
                        <div class="text text1">
                            <h3>Online mixing</h3>
                            <p>No need to download tools, no complicated preparatory work. Just click on the square to
                                decide your rhythm and melody.</p>
                        </div>
                        <div class="text text2">
                            <h3>Complete the song</h3>
                            <p>After deciding on the rhythm and melody, press the recording while enjoying, and you can
                                download the song when you are finished.</p>
                        </div>
                        <div class="text text3">
                            <h3>Share song</h3>
                            <p>Upload your own songs in the member area to share with everyone, you can get sponsorship
                                and more exposure opportunities. You can also participate in competitions and win
                                championships.</p>
                        </div>
                    </div>
                </div>
                <p>
                    You can mix andmaster EDM in here.It’s easy for everyonewho want create music on their own.
                </p>
            </div>
            <div class="home_sec home_sec03 section">
                <div class="home_pot">
                </div>
                <div class="home_title home_rank">
                </div>
                <div class="home_slider">
                    <div class="rank_title">
                        <h1>Favorite TOP 10</h1>
                    </div>
                    <div class="home_perspective">
                        <div class="home_song_container">
                            <div class="home_song home_song1">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[0]"><i class="fas fa-play"></i></button>
                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[0]}}</span>
                                        <span class="home_song_author">{{rank.song_author[0]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[0]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[0]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[0]}}
                                    </div>
                                    <div class="more flexbox"><i class="fas fa-chevron-down"></i></div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song2">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[1]"><i class="fas fa-play"></i></button>
                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[1]}}</span>
                                        <span class="home_song_author">{{rank.song_author[1]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[1]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[1]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[1]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song3">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[2]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[2]}}</span>
                                        <span class="home_song_author">{{rank.song_author[2]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[2]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[2]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[2]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song4">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[3]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[3]}}</span>
                                        <span class="home_song_author">{{rank.song_author[3]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[3]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[3]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[3]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song5">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[4]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[4]}}</span>
                                        <span class="home_song_author">{{rank.song_author[4]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[4]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[4]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[4]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song6">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[5]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[5]}}</span>
                                        <span class="home_song_author">{{rank.song_author[5]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[5]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[5]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[5]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song7">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[6]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[6]}}</span>
                                        <span class="home_song_author">{{rank.song_author[6]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[6]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[6]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[6]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song8">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[7]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[7]}}</span>
                                        <span class="home_song_author">{{rank.song_author[7]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[7]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[7]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[7]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song9">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[8]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[8]}}</span>
                                        <span class="home_song_author">{{rank.song_author[8]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[8]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[8]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[8]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>
                            <div class="home_song home_song10">
                                <div class="home_cover_img">
                                    <button class="home_play" data-playStatus="false"
                                        v-bind:data-songNo="rank.song_no[9]"><i class="fas fa-play"></i></button>

                                </div>
                                <div class="home_shadow"></div>
                                <div class="home_song_info">
                                    <div class="container flexbox">
                                        <span class="home_song_name">{{rank.song_name[9]}}</span>
                                        <span class="home_song_author">{{rank.song_author[9]}}</span>
                                    </div>
                                    <div class="home_icon_container flexbox">
                                        <div class="home_favorite">
                                            <i class="fas fa-heart"></i>
                                            <span>{{rank.favorite[9]}}</span>
                                        </div>
                                        <div class="home_donate">
                                            <i class="fas fa-coins"></i>
                                            <span>{{rank.donate[9]}}</span>
                                        </div>
                                    </div>
                                    <div class="introduction">
                                        {{rank.song_intro[9]}}
                                    </div>
                                </div>
                                <div class="home_vinyl_records_s"></div>
                            </div>

                        </div>
                    </div>
                    <div class="home_arrow_container">
                        <div class="home_left_arrow"></div>
                        <div class="home_right_arrow"></div>
                    </div>
                </div>

            </div>
            <div class="home_sec home_sec04 section">
                <div class="home_paint02"></div>
                <div class="home_title home_activity"></div>
                <div class="home_DJ">
                    <i class="fas fa-bolt lightning1"></i>

                    <i class="fas fa-bolt lightning2"></i>
                    <i class="fas fa-bolt lightning3"></i>
                    <div class="home_DJ_g"></div>
                </div>
                <div class="home_activity_info">
                    <div class="home_activity_img">
                    </div>
                    <h2>
                        Electronic dance music contest 2019
                    </h2>
                    <h3>
                        Information
                    </h3>
                    <p>
                        American Idol is an annual American singing competition which began its first season in June 11,
                        2002. Part of the Idol franchise, it originated from the UK reality program Pop Idol.
                    </p>
                    <h3>
                        Time
                    </h3>
                    <p>
                        2019 Dec 31 to 2020 Dec 31
                    </p>
                    <h4>Enter Contest Now! >>></h4>
                    <div class="enter_bt">
                        <a href="./activity.html"></a>
                    </div>
                </div>

            </div>
            <div class="home_sec home_sec05 section">
                <div class="home_paint01"></div>
                <div class="home_title home_collection">
                </div>
                <div class="home_girl"></div>
                <div class="holder">
                    <div class="text_container">
                        <p>
                            More than 100,000 music creators and more than one million songs. You can mine them from our
                            categories and hashtags. enjoy it.
                        </p>
                    </div>
                    <div class="home_sort_container">
                        <div class="home_sort home_sort01 flexbox">
                            <div class="selector">
                                <svg width="250" height="250" viewbox="0,0,200,200">
                                    <path class="st0" stroke="#26F5F7" stroke-width="10" stroke-linecap="round"
                                        fill="none" d="M49.2,32.9c-3.5-5.5-11-7.3-17-5.2S21.7,35.2,19,41.2S15.2,54,14.4,60.6c-3,24.9-3,50.2-2.7,75.3
                                c0.1,8.7,0.3,17.7,4.1,25.4c5.3,10.7,16.5,16.6,27.5,19.7c17.9,5,36.8,4.4,55.3,2.8c17-1.4,50.9-5,67.4-9.4
                                c6.3-1.7,15.8-11.7,17.4-18.3c2.1-9.1,5-37.4,5.3-46.7c0.8-21.9-1.4-44.1-8.6-64.6c-0.9-2.6-2-5.3-3.7-7.5
                                c-1.9-2.4-4.5-4.1-7.1-5.6c-16-9.6-33.7-16.4-52-18.7s-33.4-1.1-50,7.2" />
                                </svg>
                            </div>
                            <a class="flexbox" href="./collection.html">Rock</a>
                        </div>
                        <div class="home_sort home_sort02 flexbox">
                            <div class="selector">
                                <svg width="250" height="250" viewbox="0,0,200,200">
                                    <path class="st0" stroke="#26F5F7" stroke-width="10" stroke-linecap="round"
                                        fill="none" d="M49.2,32.9c-3.5-5.5-11-7.3-17-5.2S21.7,35.2,19,41.2S15.2,54,14.4,60.6c-3,24.9-3,50.2-2.7,75.3
                                c0.1,8.7,0.3,17.7,4.1,25.4c5.3,10.7,16.5,16.6,27.5,19.7c17.9,5,36.8,4.4,55.3,2.8c17-1.4,50.9-5,67.4-9.4
                                c6.3-1.7,15.8-11.7,17.4-18.3c2.1-9.1,5-37.4,5.3-46.7c0.8-21.9-1.4-44.1-8.6-64.6c-0.9-2.6-2-5.3-3.7-7.5
                                c-1.9-2.4-4.5-4.1-7.1-5.6c-16-9.6-33.7-16.4-52-18.7s-33.4-1.1-50,7.2" />
                                </svg>
                            </div>
                            <a class="flexbox" href="./collection.html">Matel</a>
                        </div>
                        <div class="home_sort home_sort03 flexbox">
                            <div class="selector">
                                <svg width="250" height="250" viewbox="0,0,200,200">
                                    <path class="st0" stroke="#26F5F7" stroke-width="10" stroke-linecap="round"
                                        fill="none" d="M49.2,32.9c-3.5-5.5-11-7.3-17-5.2S21.7,35.2,19,41.2S15.2,54,14.4,60.6c-3,24.9-3,50.2-2.7,75.3
                                c0.1,8.7,0.3,17.7,4.1,25.4c5.3,10.7,16.5,16.6,27.5,19.7c17.9,5,36.8,4.4,55.3,2.8c17-1.4,50.9-5,67.4-9.4
                                c6.3-1.7,15.8-11.7,17.4-18.3c2.1-9.1,5-37.4,5.3-46.7c0.8-21.9-1.4-44.1-8.6-64.6c-0.9-2.6-2-5.3-3.7-7.5
                                c-1.9-2.4-4.5-4.1-7.1-5.6c-16-9.6-33.7-16.4-52-18.7s-33.4-1.1-50,7.2" />
                                </svg>
                            </div>
                            <a class="flexbox" href="./collection.html">R & B</a>
                        </div>
                        <div class="home_sort home_sort04 flexbox">
                            <div class="selector">
                                <svg width="250" height="250" viewbox="0,0,200,200">
                                    <path class="st0" stroke="#26F5F7" stroke-width="10" stroke-linecap="round"
                                        fill="none" d="M49.2,32.9c-3.5-5.5-11-7.3-17-5.2S21.7,35.2,19,41.2S15.2,54,14.4,60.6c-3,24.9-3,50.2-2.7,75.3
                                c0.1,8.7,0.3,17.7,4.1,25.4c5.3,10.7,16.5,16.6,27.5,19.7c17.9,5,36.8,4.4,55.3,2.8c17-1.4,50.9-5,67.4-9.4
                                c6.3-1.7,15.8-11.7,17.4-18.3c2.1-9.1,5-37.4,5.3-46.7c0.8-21.9-1.4-44.1-8.6-64.6c-0.9-2.6-2-5.3-3.7-7.5
                                c-1.9-2.4-4.5-4.1-7.1-5.6c-16-9.6-33.7-16.4-52-18.7s-33.4-1.1-50,7.2" />
                                </svg>
                            </div>
                            <a class="flexbox" href="./collection.html">Hip-hop</a>
                        </div>
                        <div class="home_sort home_sort05 flexbox">
                            <div class="selector">
                                <svg width="250" height="250" viewbox="0,0,200,200">
                                    <path class="st0" stroke="#26F5F7" stroke-width="10" stroke-linecap="round"
                                        fill="none" d="M49.2,32.9c-3.5-5.5-11-7.3-17-5.2S21.7,35.2,19,41.2S15.2,54,14.4,60.6c-3,24.9-3,50.2-2.7,75.3
                                c0.1,8.7,0.3,17.7,4.1,25.4c5.3,10.7,16.5,16.6,27.5,19.7c17.9,5,36.8,4.4,55.3,2.8c17-1.4,50.9-5,67.4-9.4
                                c6.3-1.7,15.8-11.7,17.4-18.3c2.1-9.1,5-37.4,5.3-46.7c0.8-21.9-1.4-44.1-8.6-64.6c-0.9-2.6-2-5.3-3.7-7.5
                                c-1.9-2.4-4.5-4.1-7.1-5.6c-16-9.6-33.7-16.4-52-18.7s-33.4-1.1-50,7.2" />
                                </svg>
                            </div>
                            <a class="flexbox" href="./collection.html">Classical</a>
                        </div>
                        <div class="home_sort home_sort06 flexbox">
                            <div class="selector">
                                <svg width="250" height="250" viewbox="0,0,200,200">
                                    <path class="st0" stroke="#26F5F7" stroke-width="10" stroke-linecap="round"
                                        fill="none" d="M49.2,32.9c-3.5-5.5-11-7.3-17-5.2S21.7,35.2,19,41.2S15.2,54,14.4,60.6c-3,24.9-3,50.2-2.7,75.3
                                c0.1,8.7,0.3,17.7,4.1,25.4c5.3,10.7,16.5,16.6,27.5,19.7c17.9,5,36.8,4.4,55.3,2.8c17-1.4,50.9-5,67.4-9.4
                                c6.3-1.7,15.8-11.7,17.4-18.3c2.1-9.1,5-37.4,5.3-46.7c0.8-21.9-1.4-44.1-8.6-64.6c-0.9-2.6-2-5.3-3.7-7.5
                                c-1.9-2.4-4.5-4.1-7.1-5.6c-16-9.6-33.7-16.4-52-18.7s-33.4-1.1-50,7.2" />
                                </svg>
                            </div>
                            <a class="flexbox" href="./collection.html">Country</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="home_sec home_sec06 section">
                <div class="home_title home_about">
                </div>
                <div class="home_audioMan">
                    <div class="gear01"></div>
                    <div class="gear02"></div>
                </div>
                <div class="home_about_text">
                    <h3>
                        What sparks come out when music creators and web engineers meet?
                    </h3>
                    <h2>
                        The answer you think is right.
                    </h2>
                    <div class="home_logo"></div>
                    <p>
                        We are born. There is no complicated reason, except that we all like music. We hope you will
                        also love here, the place where beautiful music gathers.
                    </p>
                </div>
            </div>
        </div>

        <!-- player start -->
        <div id="player">
            <audio src="" id="audioPlayer"></audio>
            <div class="player_s">
                <div class="info">
                    <div class="cover"><img src="./img/collection/album1.jpg"></div>
                    <div class="songInfo">
                        <span class="name">Lucid Dreamer</span>
                        <span class="creator">Spazz Cardigan</span>
                    </div>
                    <div class="heart"><img src="./img/collection/grayheart.png" alt=""></div>
                    <div class="clearfix"></div>
                </div>

                <div class="controlPanel">
                    <div class="progressbar">
                        <div class="progress"></div>
                    </div>
                    <div class="time">
                        <span class="start">00:00</span>
                        <span class="end">04:30</span>
                        <div class="clearfix"></div>
                    </div>
                    <div class="btns">
                        <div class="controls">
                            <button class="prev"><i class="fas fa-step-backward"></i></button>
                            <button class="play"><i class="fas fa-play"></i></button>
                            <button class="next"><i class="fas fa-step-forward"></i></button>
                            <button class="stop"><i class="fas fa-stop"></i></button>
                            <button class="rand"><i class="fas fa-random"></i></button>
                            <button class="loop"><i class="fas fa-undo-alt"></i></button>
                            <div class="clearfix"></div>
                        </div>
                        <div class="vol">
                            <div class="volicon"><i class="fas fa-volume-down"></i></div>
                            <div class="volLine">
                                <div class="volControl"></div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>

                <div class="expand" id="expand"><i class="fas fa-expand"></i></div>
                <div class="clearfix"></div>
            </div>

            <!-- 詳細版 -->
            <div class="player_b">
                <div class="left">
                    <div class="info">
                        <div class="songCover">
                            <img src="./img/collection/album1.jpg">
                            <div class="coverRec"><img src="./img/library/player_record.png" alt=""></div>
                        </div>
                    </div>
                    <div class="songInfo">
                        <div class="name">Lucid Dreamer</div>
                        <div class="creator">Spazz Cardigan</div>
                        <div class="heart"><img src="./img/collection/grayheart.png" alt=""></div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="controlPanel">
                        <div class="progressbar">
                            <div class="progress"></div>
                        </div>
                        <div class="time">
                            <span class="start">00:00</span>
                            <span class="end">00:00</span>
                            <div class="clearfix"></div>
                        </div>
                        <div class="btns">
                            <div class="controls">
                                <button class="rand"><i class="fas fa-random"></i></button>
                                <button class="prev"><i class="fas fa-step-backward"></i></button>
                                <button class="play"><i class="fas fa-play"></i></button>
                                <button class="next"><i class="fas fa-step-forward"></i></button>
                                <button class="stop"><i class="fas fa-stop"></i></button>
                                <button class="loop"><i class="fas fa-undo-alt"></i></button>
                                <div class="clearfix"></div>
                            </div>
                            <div class="vol">
                                <div class="volicon"><i class="fas fa-volume-down"></i></div>
                                <div class="volLine">
                                    <div class="volControl"></div>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                    <div class="pushBtn"></div>
                </div>

                <div class="right">
                    <div class="pushBtn"></div>
                    <div class="listTitle">
                        <div class="listCover">
                            <img src="./img/library/list_pic_no.jpg"></div>
                        <div class="listName">
                            <h2>Total songs</h2>
                            <span>0 songs</span>
                        </div>
                        <button class="selectBtn" id="selectBtn">SELECT</button>
                        <div class="clearfix"></div>
                    </div>
                    <div class="list">
                        <ul class="chooseList">
                            <!-- <li>
                      <div class="songCover">
                        <img src="./img/collection/album1.jpg" alt="">
                        <div class="listPlay nowlistening"><img src="./img/library/coverPlay-s.png"></div>
                      </div>
                      <div class="listSongInfo">
                        <div class="name">
                          <h4>Lucid Dreamer</h4>
                          <p> Spazz Cardigan</p>
                        </div>
                      </div>
                      <div class="totalTime">3:11</div>
                      <div class="heart becomeRed"><img src="./img/collection/redheart.png"></div>
                      <div class="clearfix"></div>
                    </li> -->
                        </ul>
                    </div>
                </div>
                <div class="close" id="closePlayer"><i class="fas fa-times"></i></div>
                <div class="clearfix"></div>

                <!-- 撥放器燈箱 -->
                <div class="lightCover">
                    <div class="lightbox_s allmylist" id="myAllList">
                        <div class="closeLight"><i class="fas fa-times"></i></div>
                        <h4>My List</h4>
                        <div class="lightSelectMenu">
                            <ul>
                                <!-- <li class="chooseList">Liked songs</li> -->
                            </ul>
                        </div>
                        <input type="hidden" name="plistName" id="plistName">
                        <button id="mylistOK">ok</button>
                    </div>
                    <div class="lightbox_s" id="playerAlert">
                        <div class="closeLight"><i class="fas fa-times"></i></div>
                        <h4></h4>
                        <button>ok</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- player end -->
    </div>




    <script>
        let vm = new Vue({
            el: "#home_app",
            data: {
                //nav_bar
                mobile_list: false,
                search_bar: false,
                mem_list: false,
                mem_login: false,

                // member info
                member: {
                    mem_no: null,
                    mem_acct: '',
                },

                // home
                rank: {
                    song_no: [],
                    song_name: [],
                    song_author: [],
                    favorite: [],
                    donate: [],
                    song_intro: [],
                    song_img: [],
                    song_addr: [],
                },

                // play
                play_song_info: {
                    song_no: Number,
                    song_name: '',
                    song_author: '',
                    song_img: '',
                    song_addr: '',
                    song_time: '',
                },

            },
            mounted() {
                let get_login_info = () => {
                    let xhr = new XMLHttpRequest();
                    xhr.onload = () => {
                        member = JSON.parse(xhr.responseText);
                        vm.member.mem_no = member.mem_no;
                        vm.member.mem_acct = member.mem_acct;
                        if (member.mem_acct) {
                            vm.mem_login = true;
                        } else {
                            vm.mem_login = false;
                        }
                    }
                    xhr.open("get", "./phps/getLoginInfo.php", true);
                    xhr.send(null);
                }
                get_login_info();

                let = get_rank_info = () => {
                    let xhr = new XMLHttpRequest();
                    xhr.onload = () => {
                        let rank = JSON.parse(xhr.responseText);
                        for (let i = 0; i < 10; i++) {
                            vm.rank.song_no.push(rank[i].song_no)
                            vm.rank.song_name.push(rank[i].song_name);
                            vm.rank.song_author.push(rank[i].mem_name);
                            vm.rank.favorite.push(rank[i].fav_total);
                            vm.rank.donate.push(rank[i].donate_acount);
                            vm.rank.song_intro.push(rank[i].song_idn);
                            vm.rank.song_img.push(rank[i].song_pic);
                            document.querySelector(`.home_song${i + 1} .home_cover_img`).style.background = `url(${vm.rank.song_img[i]})`
                            document.querySelector(`.home_song${i + 1} .home_cover_img`).style.backgroundSize = 'cover'
                        }
                    }
                    xhr.open("get", "./phps/getRankInfo.php", true);
                    xhr.send(null);
                }
                get_rank_info();

                // nav_bar start
                document.querySelector('.mem_list ul').setAttribute('style', `height: ${window.innerHeight}px;`);
                document.querySelector('.mobile_list ul').setAttribute('style', `height: ${window.innerHeight}px;`);
                document.querySelectorAll('.paint_border')[0].setAttribute('style', `height: ${window.innerHeight}px;`);
                document.querySelectorAll('.paint_border')[1].setAttribute('style', `height: ${window.innerHeight}px;`);

                document.addEventListener('click', () => {
                    this.mem_list = false;
                    this.search_bar = false;
                    this.mobile_list = false;

                    document
                        .querySelector(".search_bar")
                        .setAttribute("style", "height: 0px; filter: opacity(0);");
                    document
                        .querySelector(".mem_list")
                        .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                    document
                        .querySelector(".mobile_list")
                        .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                });
                // nav_bar end

            },
            methods: {
                // nav_bar
                hamburger_click(e) {
                    // e.stopPropagation();
                    document
                        .querySelector(".hamburger").classList.toggle("is-active");
                },
                search_bt_click(e) {
                    e.stopPropagation();
                    if (this.search_bar == false) {
                        this.search_bar = true;
                        this.mem_list = false;
                        this.mobile_list = false;
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 240px; filter: opacity(1);");
                        document.querySelector("input.search").focus();
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    } else {
                        this.search_bar = false;
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                        document.querySelector("input.search").blur();
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    }
                },

                stopPropagation(e) {
                    e.stopPropagation();
                },

                mem_bt_click(e) {
                    e.stopPropagation();
                    if (this.mem_list == false) {
                        this.mem_list = true;
                        this.search_bar = false;
                        this.mobile_list = false;
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(0); filter: opacity(1);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    } else {
                        this.mem_list = false;
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    }
                },

                hamburger_click(e) {
                    e.stopPropagation();
                    if (this.mobile_list == false) {
                        this.mobile_list = true;
                        this.mem_list = false;
                        this.search_bar = false;
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(0); filter: opacity(1);");
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                    } else {
                        this.mobile_list = false;
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                    }
                },

                logout() {
                    let xhr = new XMLHttpRequest();
                    xhr.onload = () => {
                        this.mem_login = false;
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                    }
                    xhr.open("get", "./php/logout.php", true);
                    xhr.send(null)
                }
            }
        }); // vue end


        // ===============================================================================================================================


        // jQueryMobile-SwipeUpDown
        // ----------------------------------
        //
        // Copyright (c)2012 Donnovan Lewis
        // Distributed under MIT license
        //
        // https://github.com/blackdynamo/jquerymobile-swipeupdown

        (function () {
            // initializes touch and scroll events
            var supportTouch = $.support.touch,
                scrollEvent = "touchmove scroll",
                touchStartEvent = supportTouch ? "touchstart" : "mousedown",
                touchStopEvent = supportTouch ? "touchend" : "mouseup",
                touchMoveEvent = supportTouch ? "touchmove" : "mousemove";

            // handles swipe up and swipe down
            $.event.special.swipeupdown = {
                setup: function () {
                    var thisObject = this;
                    var $this = $(thisObject);

                    $this.bind(touchStartEvent, function (event) {
                        var data = event.originalEvent.touches ?
                            event.originalEvent.touches[0] :
                            event,
                            start = {
                                time: (new Date).getTime(),
                                coords: [data.pageX, data.pageY],
                                origin: $(event.target)
                            },
                            stop;

                        function moveHandler(event) {
                            if (!start) {
                                return;
                            }

                            var data = event.originalEvent.touches ?
                                event.originalEvent.touches[0] :
                                event;
                            stop = {
                                time: (new Date).getTime(),
                                coords: [data.pageX, data.pageY]
                            };

                            // prevent scrolling
                            if (Math.abs(start.coords[1] - stop.coords[1]) > 10) {
                                event.preventDefault();
                            }
                        }

                        $this
                            .bind(touchMoveEvent, moveHandler)
                            .one(touchStopEvent, function (event) {
                                $this.unbind(touchMoveEvent, moveHandler);
                                if (start && stop) {
                                    if (stop.time - start.time < 1000 &&
                                        Math.abs(start.coords[1] - stop.coords[1]) > 30 &&
                                        Math.abs(start.coords[0] - stop.coords[0]) < 75) {
                                        start.origin
                                            .trigger("swipeupdown")
                                            .trigger(start.coords[1] > stop.coords[1] ? "swipeup" : "swipedown");
                                    }
                                }
                                start = stop = undefined;
                            });
                    });
                }
            };

            //Adds the events to the jQuery events special collection
            $.each({
                swipedown: "swipeupdown",
                swipeup: "swipeupdown"
            }, function (event, sourceEvent) {
                $.event.special[event] = {
                    setup: function () {
                        $(this).bind(sourceEvent, $.noop);
                    }
                };
            });

        })();


        // =================================================================================================================================

        // pagepiling =====================================================================================================================


        $('#pagepiling').pagepiling(
            {
                verticalCentered: false, //section 內物件置中對齊
                navigation: {
                    'bulletsColor': '#F1C40F', // 框線
                    'position': 'right',
                    'tooltips': ['SOUND WAVE', 'REMIX', 'RANK', 'ACTIVITY', 'COLLECTION', 'ABOUT']
                },
            }
        );
        $('.home_sec').on('swipedown', () => {
            $.fn.pagepiling.moveSectionUp();
        });
        $('.home_sec').on('swipeup', () => {
            $.fn.pagepiling.moveSectionDown();
        });

        // PIXI =======================================================================================================================================


        let app = new PIXI.Application({
            width: window.innerWidth <= 1320 ? window.innerWidth : (window.innerWidth - 600),
            height: window.innerHeight,
            transparent: true,
            antialias: true,
        });
        window.addEventListener('resize', () => {
            app.renderer.resize(window.innerWidth <= 1320 ? window.innerWidth : (window.innerWidth - 600), innerHeight);
        })

        let sprites = new PIXI.Container();
        let items = [
            'apple',
            'banana',
            'banner',
            'cloud',
            'diamond',
            'gear',
            'heart',
            'lightning',
            'note',
            'radio',
            'rock',
            'skull',
            'star',
            'sunglasses',
            'vue',
            'weeds',
        ]
        let spritesArr = new Array();
        let direction = new Array();

        let graphics01 = new PIXI.Graphics();
        let graphics02 = new PIXI.Graphics();
        let graphics03 = new PIXI.Graphics();
        let graphics04 = new PIXI.Graphics();
        let graphics05 = new PIXI.Graphics();

        graphics01.position = { x: 0, y: window.innerHeight }
        graphics02.position = { x: 0, y: window.innerHeight }
        graphics03.position = { x: 0, y: window.innerHeight }
        graphics04.position = { x: 0, y: window.innerHeight }
        graphics05.position = { x: 0, y: window.innerHeight }

        graphics01.scale.y = -1;
        graphics02.scale.y = -1;
        graphics03.scale.y = -1;
        graphics04.scale.y = -1;
        graphics05.scale.y = -1;

        app.stage.addChild(sprites, graphics01, graphics02, graphics03, graphics04, graphics05);

        document.body.appendChild(app.view);

        document.querySelector('.home_wave_container').appendChild(app.view);
        let waveLooperSwitch = false;

        let waveLooper = () => {
            waveLooperSwitch = true;
            if (playStatus) {
                analyser.getFloatFrequencyData(frequency_array);
                direction.push(Math.PI * (Math.random() * 3));
                let itemsRandom = parseInt(Math.random() * items.length)
                sprite = PIXI.Sprite.from(`./img/home/items/${items[itemsRandom]}.png`)

                sprite.x = Math.random() * window.innerWidth + 1;
                sprite.y = window.innerHeight / 2;
                sprite.rotation = (Math.random() * 360) * (Math.PI / 180);
                sprite.anchor.set(0.5);
                spritesArr.push(sprite)
                sprites.addChild(sprite)

                draw(frequency_array);
                window.requestAnimationFrame(waveLooper);
            } else {
                sprites.removeChildren()
                graphics01.clear(0, 0, window.innerWidth, window.innerHeight);
                graphics02.clear(0, 0, window.innerWidth, window.innerHeight);
                graphics03.clear(0, 0, window.innerWidth, window.innerHeight);
                graphics04.clear(0, 0, window.innerWidth, window.innerHeight);
                graphics05.clear(0, 0, window.innerWidth, window.innerHeight);
                waveLooperSwitch = false;
                return;
            }
        }

        let constant = window.innerHeight;
        window.addEventListener('resize', () => {
            constant = Math.log(window.innerHeight);
        })

        let draw = (frequency_array) => {
            graphics01.clear(0, 0, window.innerWidth, window.innerHeight);
            graphics02.clear(0, 0, window.innerWidth, window.innerHeight);
            graphics03.clear(0, 0, window.innerWidth, window.innerHeight);
            graphics04.clear(0, 0, window.innerWidth, window.innerHeight);
            graphics05.clear(0, 0, window.innerWidth, window.innerHeight);

            graphics01.lineStyle(1, 0xF6F63D);
            graphics02.lineStyle(1, 0xF5C900);
            graphics03.lineStyle(2, 0xFFD700);
            graphics04.lineStyle(1, 0xF5C900);
            graphics05.lineStyle(1, 0xF6F63D);


            let volume = audio.volume * 15;
            for (let i = 0; i <= window.innerWidth; i++) {
                frequency_array[i] = frequency_array[i] - volume <= -100 ? -100 : frequency_array[i] - volume;
                if (i == 0) {
                    graphics01.moveTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 98) * 4);
                    graphics02.moveTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 99) * 4);
                    graphics03.moveTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 100) * 4);
                    graphics04.moveTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 101) * 4);
                    graphics05.moveTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 102) * 4);
                } else {
                    graphics01.lineTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 98) * 4);
                    graphics02.lineTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 99) * 4);
                    graphics03.lineTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 100) * 4);
                    graphics04.lineTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 101) * 4);
                    graphics05.lineTo((2 * i), window.innerHeight / 2 + (frequency_array[i] + 102) * 4);
                }
            }

            for (let i = 0; i < spritesArr.length; i++) {
                let sprite = spritesArr[i];
                sprite.x -= 1 * Math.cos(direction[i] + Math.random());
                sprite.y -= 1 * Math.sin(direction[i] + Math.random());
                sprite.rotation += 0.1;
                sprite.alpha -= 0.004;
                if (sprite.y <= window.innerHeight / 2 - 400) {
                    sprites.removeChild(sprite);
                    spritesArr.splice(i, 1);
                    direction.splice(i, 1);
                } else if (sprite.y >= window.innerHeight / 2 + 400) {
                    sprites.removeChild(sprite);
                    spritesArr.splice(i, 1);
                    direction.splice(i, 1);
                }
            }
        }

        // REMIX function =====================================================================================================================

        // ul li event
        let li1Click = false;
        let li2Click = false;
        let li3Click = false;

        let li_mouseover = (e) => {
            e.target.style.background = `#F5C90F`;
        }
        let li_mouseout = (e) => {
            e.target.style.background = `#F5C90F80`;
        }

        document.querySelectorAll('.home_li').forEach((el) => {
            el.addEventListener('mouseover', li_mouseover);
            el.addEventListener('mouseout', li_mouseout);
        });

        document.querySelectorAll('.home_li')[0].addEventListener('click', () => {
            if (li1Click === true) {
                li1Click = false
                document.querySelector('.text0').style.height = `${text_h.t0}`;
                document.querySelector('.text1').style.height = '0px';
                document.querySelector('.text2').style.height = '0px';
                document.querySelector('.text3').style.height = '0px';
                document.querySelectorAll('.home_li')[0].addEventListener('mouseover', li_mouseover);
                document.querySelectorAll('.home_li')[0].addEventListener('mouseout', li_mouseout);
                document.querySelectorAll('.home_li')[0].style.background = '#F5C90F80';
                return;
            } else if (li1Click === false) {
                if (li2Click === true) {
                    document.querySelectorAll('.home_li')[1].addEventListener('mouseover', li_mouseover);
                    document.querySelectorAll('.home_li')[1].addEventListener('mouseout', li_mouseout);
                }
                if (li3Click === true) {
                    document.querySelectorAll('.home_li')[2].addEventListener('mouseover', li_mouseover);
                    document.querySelectorAll('.home_li')[2].addEventListener('mouseout', li_mouseout);
                }
                li1Click = true;
                li2Click = false;
                li3Click = false;
                document.querySelector('.text0').style.height = '0px';
                document.querySelector('.text1').style.height = `${text_h.t1}`;
                document.querySelector('.text2').style.height = '0px';
                document.querySelector('.text3').style.height = '0px';
                document.querySelectorAll('.home_li')[0].removeEventListener('mouseover', li_mouseover);
                document.querySelectorAll('.home_li')[0].removeEventListener('mouseout', li_mouseout);
                document.querySelectorAll('.home_li')[0].style.background = '#7ED5E5';
                document.querySelectorAll('.home_li')[1].style.background = '#F5C90F80';
                document.querySelectorAll('.home_li')[2].style.background = '#F5C90F80';
            }
        });
        document.querySelectorAll('.content ul li')[1].addEventListener('click', () => {
            if (li2Click === true) {
                li2Click = false
                document.querySelector('.text0').style.height = `${text_h.t0}`;
                document.querySelector('.text1').style.height = '0px';
                document.querySelector('.text2').style.height = '0px';
                document.querySelector('.text3').style.height = '0px';
                document.querySelectorAll('.home_li')[1].addEventListener('mouseover', li_mouseover);
                document.querySelectorAll('.home_li')[1].addEventListener('mouseout', li_mouseout);
                document.querySelectorAll('.home_li')[1].style.background = '#F5C90F80';

            } else {
                if (li1Click === true === true) {
                    document.querySelectorAll('.home_li')[0].addEventListener('mouseover', li_mouseover);
                    document.querySelectorAll('.home_li')[0].addEventListener('mouseout', li_mouseout);
                }
                if (li3Click === true) {
                    document.querySelectorAll('.home_li')[2].addEventListener('mouseover', li_mouseover);
                    document.querySelectorAll('.home_li')[2].addEventListener('mouseout', li_mouseout);
                }

                li2Click = true;
                li1Click = false;
                li3Click = false;
                document.querySelector('.text0').style.height = '0px';
                document.querySelector('.text1').style.height = '0px';
                document.querySelector('.text2').style.height = `${text_h.t2}`;
                document.querySelector('.text3').style.height = '0px';
                document.querySelectorAll('.home_li')[1].removeEventListener('mouseover', li_mouseover);
                document.querySelectorAll('.home_li')[1].removeEventListener('mouseout', li_mouseout);
                document.querySelectorAll('.home_li')[1].style.background = '#7ED5E5';
                document.querySelectorAll('.home_li')[0].style.background = '#F5C90F80';
                document.querySelectorAll('.home_li')[2].style.background = '#F5C90F80';
            }
        });
        document.querySelectorAll('.content ul li')[2].addEventListener('click', () => {
            if (li3Click === true) {
                li3Click = false
                document.querySelector('.text0').style.height = `${text_h.t0}`;
                document.querySelector('.text1').style.height = '0px';
                document.querySelector('.text2').style.height = '0px';
                document.querySelector('.text3').style.height = '0px';
                document.querySelectorAll('.home_li')[2].addEventListener('mouseover', li_mouseover);
                document.querySelectorAll('.home_li')[2].addEventListener('mouseout', li_mouseout);
                document.querySelectorAll('.home_li')[2].style.background = '#F5C90F80';

            } else {
                if (li1Click === true) {
                    document.querySelectorAll('.home_li')[0].addEventListener('mouseover', li_mouseover);
                    document.querySelectorAll('.home_li')[0].addEventListener('mouseout', li_mouseout);
                }
                if (li2Click === true) {
                    document.querySelectorAll('.home_li')[1].addEventListener('mouseover', li_mouseover);
                    document.querySelectorAll('.home_li')[1].addEventListener('mouseout', li_mouseout);
                }

                li3Click = true;
                li1Click = false;
                li2Click = false;
                document.querySelector('.text0').style.height = '0px';
                document.querySelector('.text1').style.height = '0px';
                document.querySelector('.text2').style.height = '0px';
                document.querySelector('.text3').style.height = `${text_h.t3}`;
                document.querySelectorAll('.home_li')[2].removeEventListener('mouseover', li_mouseover);
                document.querySelectorAll('.home_li')[2].removeEventListener('mouseout', li_mouseout);
                document.querySelectorAll('.home_li')[2].style.background = '#7ED5E5';
                document.querySelectorAll('.home_li')[0].style.background = '#F5C90F80';
                document.querySelectorAll('.home_li')[1].style.background = '#F5C90F80';

            }
        });

        // home_mixer_bt click
        let home_mixer_bt_click = (e) => {
            e.stopPropagation();
            document.querySelector('.home_mixer_box').setAttribute('style', `display: block; top: 60px; width: ${556 - ((768 - window.innerWidth) / 4.48) * 0.01 * 236}px; height: ${616 - ((768 - window.innerWidth) / 4.48) * 0.01 * (616 - 616 / 1.7375)}px`)
            document.querySelector('.home_mixer_box').style.left = `${(window.innerWidth - parseInt(document.querySelector('.home_mixer_box').style.width)) / 2}px`
            document.querySelector('.home_mixer').setAttribute('style', `width: ${556 - ((768 - window.innerWidth) / 4.48) * 0.01 * 236}px; height: ${616 - ((768 - window.innerWidth) / 4.48) * 0.01 * (616 - 616 / 1.7375)}px`)
            document.querySelector('.close').addEventListener('click', (e) => {
                e.stopPropagation();
                document.querySelector('.home_mixer_box').style.display = 'none'
            });
        }
        // document.querySelector('.text0 h3').style.height

        // RANK Slider =====================================================================================================================


        transform_rotate = new Array();
        for (let i = 0; i < 10; i++) {
            transform_rotate.push(i * 36);
        }
        rankOrder = 1;
        set_value = {
            size: parseInt(160 - (((1920 - window.innerWidth) / 16) * 0.01 * 60)),
            translateZ: parseInt(360 - (((1920 - window.innerWidth) / 16) * 0.01 * 130)),
        }

        let left_arrow_click = () => {
            document.querySelector('.home_left_arrow').removeEventListener('click', left_arrow_click);
            document.querySelector('.home_right_arrow').removeEventListener('click', right_arrow_click);
            document.querySelector('.home_perspective').removeEventListener('mousedown', myMousedown);
            document.querySelector('.home_perspective').removeEventListener('mousemove', myMousemove);

            rankOrder--;
            if (rankOrder == 0) {
                rankOrder = 10;
                document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                }
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                }
                document.querySelector(`.home_song1 .home_shadow`).style.boxShadow = 'none';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song1 .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                } else {
                    document.querySelector(`.home_song1 .home_song_info`).style.transform = 'translateX(0px)';
                }
                document.querySelector(`.home_song1 .home_vinyl_records_s`).style.transform = 'translateX(0px)';
            } else {
                document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                }
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                }
                document.querySelector(`.home_song${rankOrder + 1} .home_shadow`).style.boxShadow = 'none';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder + 1} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                } else {
                    document.querySelector(`.home_song${rankOrder + 1} .home_song_info`).style.transform = 'translateX(0px)';
                }
                document.querySelector(`.home_song${rankOrder + 1} .home_vinyl_records_s`).style.transform = 'translateX(0px)';
            }
            left_spin();
        };
        document.querySelector('.home_left_arrow').addEventListener('click', left_arrow_click);
        document.querySelector('.home_left_arrow').addEventListener('mousedown', vm.stopPropagation);

        let right_arrow_click = () => {
            document.querySelector('.home_right_arrow').removeEventListener('click', right_arrow_click);
            document.querySelector('.home_left_arrow').removeEventListener('click', left_arrow_click);
            document.querySelector('.home_perspective').removeEventListener('mousedown', myMousedown);
            document.querySelector('.home_perspective').removeEventListener('mousemove', myMousemove);

            rankOrder++;
            if (rankOrder == 11) {
                rankOrder = 1;
                document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                }
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                }
                document.querySelector(`.home_song10 .home_shadow`).style.boxShadow = 'none';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song10 .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                } else {
                    document.querySelector(`.home_song10 .home_song_info`).style.transform = 'translateX(0px)';
                }
                document.querySelector(`.home_song10 .home_vinyl_records_s`).style.transform = 'translateX(0px)';
            } else {
                document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                }
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                }
                document.querySelector(`.home_song${rankOrder - 1} .home_shadow`).style.boxShadow = 'none';
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder - 1} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                } else {
                    document.querySelector(`.home_song${rankOrder - 1} .home_song_info`).style.transform = 'translateX(0px)';
                }
                document.querySelector(`.home_song${rankOrder - 1} .home_vinyl_records_s`).style.transform = 'translateX(0px)';
            }
            right_spin();
        };
        document.querySelector('.home_right_arrow').addEventListener('click', right_arrow_click);
        document.querySelector('.home_right_arrow').addEventListener('mousedown', vm.stopPropagation);

        spin = 0;
        let left_spin = () => {
            if (spin <= 36) {
                for (let i = 0; i < 10; i++) {
                    if (+transform_rotate[i] == 360 || +transform_rotate[i] == 0) {
                        document
                            .querySelector(`.home_song${i + 1}`).style.transform = `rotateY(${0 + spin}deg) translateZ(${set_value.translateZ}px) scale(${1.18 - 0.005 * spin})`;
                    } else if (+transform_rotate[i] == 324) {
                        document
                            .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] + spin}deg) translateZ(${set_value.translateZ}px) scale(${1 + 0.005 * spin})`;
                    } else {
                        document
                            .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] + spin}deg) translateZ(${set_value.translateZ}px) scale(1)`;
                    }
                }
                spin++;
                window.requestAnimationFrame(left_spin);
            } else {
                transform_rotate = [];
                for (let i = 0; i < 10; i++) {
                    transform_rotate.push(`${parseInt(document.querySelector(`.home_song${i + 1}`).style.transform.substr(8, 3))} `)
                }
                spin = 0;
                document.querySelector('.home_left_arrow').addEventListener('click', left_arrow_click);
                document.querySelector('.home_right_arrow').addEventListener('click', right_arrow_click);
                document.querySelector('.home_perspective').addEventListener('mousedown', myMousedown);
                document.querySelector('.home_perspective').addEventListener('mousemove', myMousemove);
            }
        }
        let right_spin = () => {
            if (spin <= 36) {
                for (let i = 0; i < 10; i++) {
                    if (+transform_rotate[i] == 0 || +transform_rotate[i] == 360) {
                        document
                            .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${360 - spin}deg) translateZ(${set_value.translateZ}px) scale(${1.18 - 0.005 * spin})`;

                    } else if (+transform_rotate[i] == 36) {
                        document
                            .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] - spin}deg) translateZ(${set_value.translateZ}px) scale(${1 + 0.005 * spin})`;

                    } else {
                        document
                            .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] - spin}deg) translateZ(${set_value.translateZ}px)`;
                    }
                }
                spin++;
                window.requestAnimationFrame(right_spin);
            } else {
                transform_rotate = [];
                for (let i = 0; i < 10; i++) {
                    transform_rotate.push(`${parseInt(document.querySelector(`.home_song${i + 1}`).style.transform.substr(8, 3))}`)
                }
                spin = 0;
                document.querySelector('.home_right_arrow').addEventListener('click', right_arrow_click);
                document.querySelector('.home_left_arrow').addEventListener('click', left_arrow_click);
                document.querySelector('.home_perspective').addEventListener('mousedown', myMousedown);
                document.querySelector('.home_perspective').addEventListener('mousemove', myMousemove);
            }
        }

        press = false;
        move = false;

        document.querySelector('.home_perspective').addEventListener('selectstart', (e) => {
            e.preventDefault();
        })
        let myMousedown = (e) => {
            document.querySelector('.home_perspective').removeEventListener('mousedown', myMousedown);
            press = true;
            preX = e.clientX;
            document.querySelector('.home_perspective').style.cursor = 'grabbing';
        };
        document.querySelector('.home_perspective').addEventListener('mousedown', myMousedown)

        let myMousemove = (e) => {
            if (press == true) {
                x = e.clientX;
                spin = parseInt(Math.abs(preX - x) / 20);
                if (spin >= 1) {
                    move = true;
                    if (preX < x) {
                        moveDirection = 'right';
                        for (let i = 0; i < 10; i++) {
                            if (+transform_rotate[i] == 360 || +transform_rotate[i] == 0) {
                                document
                                    .querySelector(`.home_song${i + 1}`).style.transform = `rotateY(${0 + (spin > 36 ? 36 : spin)}deg) translateZ(${set_value.translateZ}px) scale(${1.18 - 0.005 * (spin > 36 ? 36 : spin)})`;
                            } else if (+transform_rotate[i] == 324) {
                                document
                                    .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] + (spin > 36 ? 36 : spin)}deg) translateZ(${set_value.translateZ}px) scale(${1 + 0.005 * (spin > 36 ? 36 : spin)})`;
                            } else {
                                document
                                    .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] + (spin > 36 ? 36 : spin)}deg) translateZ(${set_value.translateZ}px) scale(1)`;
                            }
                        }
                    } else if (preX > x) {
                        moveDirection = 'left';
                        for (let i = 0; i < 10; i++) {
                            if (+transform_rotate[i] == 0 || +transform_rotate[i] == 360) {
                                document
                                    .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${360 - (spin > 36 ? 36 : spin)}deg) translateZ(${set_value.translateZ}px) scale(${1.18 - 0.005 * (spin > 36 ? 36 : spin)})`;

                            } else if (+transform_rotate[i] == 36) {
                                document
                                    .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] - (spin > 36 ? 36 : spin)}deg) translateZ(${set_value.translateZ}px) scale(${1 + 0.005 * (spin > 36 ? 36 : spin)})`;

                            } else {
                                document
                                    .querySelector(`.home_song${i + 1} `).style.transform = `rotateY(${+ transform_rotate[i] - (spin > 36 ? 36 : spin)}deg) translateZ(${set_value.translateZ}px)`;
                            }
                        }
                    }
                }
            }
        };
        document.querySelector('.home_perspective').addEventListener('mousemove', myMousemove);

        let myMouseup = () => {
            document.querySelector('.home_perspective').removeEventListener('mousemove', myMousemove);
            press = false;
            document.querySelector('.home_perspective').style.cursor = 'grab';
            if (move == true) {
                move = false;
                if (moveDirection == 'right') {
                    rankOrder--;
                    moveDirection = '';
                    if (rankOrder == 0) {
                        rankOrder = 10;
                        document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                        }
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                        }
                        document.querySelector(`.home_song1 .home_shadow`).style.boxShadow = 'none';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song1 .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                        } else {
                            document.querySelector(`.home_song1 .home_song_info`).style.transform = 'translateX(0px)';
                        }
                        document.querySelector(`.home_song1 .home_vinyl_records_s`).style.transform = 'translateX(0px)';
                    } else {
                        document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                        }
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                        }
                        document.querySelector(`.home_song${rankOrder + 1} .home_shadow`).style.boxShadow = 'none';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder + 1} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                        } else {
                            document.querySelector(`.home_song${rankOrder + 1} .home_song_info`).style.transform = 'translateX(0px)';
                        }
                        document.querySelector(`.home_song${rankOrder + 1} .home_vinyl_records_s`).style.transform = 'translateX(0px)';
                    }
                    left_spin();
                } else if (moveDirection == 'left') {
                    rankOrder++;
                    moveDirection = '';
                    if (rankOrder == 11) {
                        rankOrder = 1;
                        document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                        }
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                        }
                        document.querySelector(`.home_song10 .home_shadow`).style.boxShadow = 'none';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song10 .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                        } else {
                            document.querySelector(`.home_song10 .home_song_info`).style.transform = 'translateX(0px)';
                        }
                        document.querySelector(`.home_song10 .home_vinyl_records_s`).style.transform = 'translateX(0px)';
                    } else {
                        document.querySelector(`.home_song${rankOrder} .home_shadow`).style.boxShadow = '5px 5px 5px 1px rgba(0, 0, 0, 0.2)';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:200%; transform:translateX(${set_value.size}px);`);
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(${-set_value.size}px);`);
                        }
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                        } else {
                            document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                        }
                        document.querySelector(`.home_song${rankOrder - 1} .home_shadow`).style.boxShadow = 'none';
                        if (window.innerWidth <= 576) {
                            document.querySelector(`.home_song${rankOrder - 1} .home_song_info`).setAttribute('style', `width:100%; transform:translateX(0px);`);
                        } else {
                            document.querySelector(`.home_song${rankOrder - 1} .home_song_info`).style.transform = 'translateX(0px)';
                        }
                        document.querySelector(`.home_song${rankOrder - 1} .home_vinyl_records_s`).style.transform = 'translateX(0px)';
                    }
                    right_spin();
                }
            } else if (move == false) {
                document.querySelector('.home_perspective').addEventListener('mousedown', myMousedown);
                document.querySelector('.home_perspective').addEventListener('mousemove', myMousemove);
            }
        };
        window.addEventListener('mouseup', myMouseup);


        // rank play =============================================================================================


        let home_play = false;
        let temporary = false;

        document.querySelectorAll('.home_song .home_play').forEach((el) => {
            el.addEventListener('click', (e) => {
                home_play = true;
                if (temporary === true) {
                    if (e.target.getAttribute('data-songNo') == vm.play_song_info.song_no) {
                        if (e.target.getAttribute('data-playStatus') === 'false') {
                            isPlaying(false);
                            e.target.setAttribute('data-playStatus', 'true')
                            e.target.firstChild.classList.add('fa-pause');
                            e.target.firstChild.classList.remove('fa-play');
                        } else if (e.target.getAttribute('data-playStatus') === 'true') {
                            isPlaying(isPlaying)
                        }
                    } else {
                        let play_no = `${e.target.getAttribute('data-songNo')}`
                        let xhr = new XMLHttpRequest();
                        xhr.onload = () => {
                            let play_song_info = JSON.parse(xhr.responseText);
                            vm.play_song_info.song_no = play_song_info.song_no;
                            vm.play_song_info.song_name = play_song_info.song_name;
                            vm.play_song_info.song_author = play_song_info.mem_name;
                            vm.play_song_info.song_img = play_song_info.song_pic;
                            vm.play_song_info.song_addr = play_song_info.song_addr;

                            myPlaylist.splice(0, 1);
                            myPlaylist.splice(0, 0, {
                                song_name: vm.play_song_info.song_name,
                                song_pic: vm.play_song_info.song_img,
                                song_addr: vm.play_song_info.song_addr,
                                mem_name: vm.play_song_info.song_author,
                            });
                            nowPlaying = 0;
                            temporary = true;
                            audio.src = myPlaylist[nowPlaying].song_addr;
                            isPlaying(false);
                            try {
                                document.querySelector('.home_play[data-playStatus=true]').setAttribute('data-playStatus', 'false');
                                document.querySelector('.home_play i.fa-pause').classList.add('fa-play')
                                document.querySelector('.home_play i.fa-pause').classList.remove('fa-pause');
                                e.target.setAttribute('data-playStatus', 'true');
                                e.target.firstChild.classList.add('fa-pause');
                                e.target.firstChild.classList.remove('fa-play');
                            } catch {
                                e.target.setAttribute('data-playStatus', 'true');
                                e.target.firstChild.classList.add('fa-pause');
                                e.target.firstChild.classList.remove('fa-play');
                            }
                        }
                        xhr.open("post", "./phps/getPlaySongInfo.php", true);
                        xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
                        xhr.send(`song_no=${play_no}`);
                    }
                } else if (temporary === false) {
                    if (e.target.getAttribute('data-playStatus') === 'false') {
                        let play_no = `${e.target.getAttribute('data-songNo')}`
                        let xhr = new XMLHttpRequest();
                        xhr.onload = () => {
                            console.log(xhr.responseText)
                            let play_song_info = JSON.parse(xhr.responseText);

                            vm.play_song_info.song_no = play_song_info.song_no;
                            vm.play_song_info.song_name = play_song_info.song_name;
                            vm.play_song_info.song_author = play_song_info.mem_name;
                            vm.play_song_info.song_img = play_song_info.song_pic;
                            vm.play_song_info.song_addr = play_song_info.song_addr;
                            console.log(myPlaylist)
                            myPlaylist.splice(0, 0, {
                                song_name: vm.play_song_info.song_name,
                                song_pic: vm.play_song_info.song_img,
                                song_addr: vm.play_song_info.song_addr,
                                mem_name: vm.play_song_info.song_author,
                            });
                            nowPlaying = 0;
                            temporary = true;
                            audio.src = myPlaylist[nowPlaying].song_addr;
                            isPlaying(false);
                            e.target.setAttribute('data-playStatus', 'true')
                            e.target.firstChild.classList.add('fa-pause');
                            e.target.firstChild.classList.remove('fa-play');
                        }
                        xhr.open("post", "./phps/getPlaySongInfo.php", true);
                        xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
                        xhr.send(`song_no=${play_no}`);
                    }
                }
            });
        });


        // RWD and size set =======================================================================================

        // HOME
        document.querySelector('.home_vinyl_records').setAttribute('style', `left: ${-250 + ((1920 - window.innerWidth) / 16) * 0.01 * 70}px; width: ${1100 - ((1920 - window.innerWidth) / 16) * 0.01 * 700}px; height: ${1100 - ((1920 - window.innerWidth) / 16) * 0.01 * 700}px`);
        document.querySelector('.home_stylus').setAttribute('style', `top: ${-30 + ((1920 - window.innerWidth) / 16) * 0.01 * 55}px; left: ${480 - ((1920 - window.innerWidth) / 16) * 0.01 * 360}px; width: ${618 - ((1920 - window.innerWidth) / 16) * 0.01 * 393}px; height: ${180 - ((1920 - window.innerWidth) / 16) * 0.01 * 114.5}px`);
        document.querySelector('.home_cover_img').style.top = `calc((100% - ${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px) / 2)`
        document.querySelector('.home_cover_img').style.left = `calc((100% - ${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px) / 2)`
        document.querySelector('.home_cover_img').style.width = `${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px`
        document.querySelector('.home_cover_img').style.height = `${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px`
        document.querySelector('.home_vinyl_records').style.top = `${-80 - ((1080 - window.innerHeight) / 6) * 0.01 * 140}px`

        // title
        if (window.innerWidth <= window.innerHeight) {
            // window 320px 時 ex:188.4 => 原寬度 * 0.2
            document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1080 - window.innerHeight) / 6) * 0.01 * 188.4}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
            document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1920 - window.innerWidth) / 16) * 0.01 * 188.4}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
            document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 154.5}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
            document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 154.5}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
            document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1080 - window.innerHeight) / 6) * 0.01 * 225}px; height: ${129 - ((1080 - window.innerHeight) / 6) * 0.01 * 77.4}px;`);
            document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1920 - window.innerWidth) / 16) * 0.01 * 225}px; height: ${129 - ((1920 - window.innerWidth) / 16) * 0.01 * 77.4}px;`);
            document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 312.9}px; height: ${125 - ((1080 - window.innerHeight) / 6) * 0.01 * 75}px;`);
            document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 312.9}px; height: ${125 - ((1920 - window.innerWidth) / 16) * 0.01 * 75}px;`);
            document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1080 - window.innerHeight) / 6) * 0.01 * 187.2}px; height: ${114 - ((1080 - window.innerHeight) / 6) * 0.01 * 68.4}px;`);
            document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1920 - window.innerWidth) / 16) * 0.01 * 187.2}px; height: ${114 - ((1920 - window.innerWidth) / 16) * 0.01 * 68.4}px;`);
        } else if (window.innerWidth > window.innerHeight) {
            document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1920 - window.innerWidth) / 16) * 0.01 * 188.4}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
            document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1080 - window.innerHeight) / 6) * 0.01 * 188.4}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
            document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 154.5}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
            document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 154.5}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
            document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1920 - window.innerWidth) / 16) * 0.01 * 225}px; height: ${129 - ((1920 - window.innerWidth) / 16) * 0.01 * 77.4}px;`);
            document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1080 - window.innerHeight) / 6) * 0.01 * 225}px; height: ${129 - ((1080 - window.innerHeight) / 6) * 0.01 * 77.4}px;`);
            document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 312.9}px; height: ${125 - ((1080 - window.innerHeight) / 6) * 0.01 * 75}px;`);
            document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 312.9}px; height: ${125 - ((1920 - window.innerWidth) / 16) * 0.01 * 75}px;`);
            document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1080 - window.innerHeight) / 6) * 0.01 * 187.2}px; height: ${114 - ((1080 - window.innerHeight) / 6) * 0.01 * 68.4}px;`);
            document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1920 - window.innerWidth) / 16) * 0.01 * 187.2}px; height: ${114 - ((1920 - window.innerWidth) / 16) * 0.01 * 68.4}px;`);
        }

        // REMIX
        document.querySelector('.home_mixer_bt').style.top = `${60 + parseInt(document.querySelector('.home_remix').style.height)}px`
        let text_h = {
            t0: $('.text0').css('height'),
            t1: $('.text1').css('height'),
            t2: $('.text2').css('height'),
            t3: $('.text3').css('height'),
        }
        document.querySelector('.text0').style.height = `${text_h.t0}`
        document.querySelector('.text1').style.height = '0px';
        document.querySelector('.text2').style.height = '0px';
        document.querySelector('.text3').style.height = '0px';

        if (window.innerWidth >= 1280) {
            document.querySelector('.home_mixer_bt').style.left = `${1044 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 340}px`
            document.querySelector('.home_sec02 .home_paint01').style.left = `${1002 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 340}px`
            document.querySelector('.home_sec02 .home_paint02').style.left = `${1088 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 340}px`
        } else if (window.innerWidth > 768 && window.innerWidth < 1280) {
            document.querySelector('.home_mixer_bt').style.left = `${704 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 320}px`
            document.querySelector('.home_mixer_bt').style.width = `${556 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 171.5}px`
            document.querySelector('.home_mixer_bt').style.height = `${616 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 171.5}px`
            document.querySelector('.home_sec02 .home_paint01').style.left = `${662 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 320}px`
            document.querySelector('.home_sec02 .home_paint01').style.width = `${398 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 398 - (398 / (556 / 348.5))}px`
            document.querySelector('.home_sec02 .home_paint01').style.height = `${138 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 138 - (138 / (556 / 348.5))}px`
            document.querySelector('.home_sec02 .home_paint02').style.left = `${748 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 320}px`
            document.querySelector('.home_sec02 .home_paint02').style.bottom = `${30 + ((1280 - window.innerWidth) / 5.12) * 0.01 * 160}px`
            document.querySelector('.home_sec02 .home_paint02').style.width = `${552 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 552 - (552 / (556 / 348.5))}px`
            document.querySelector('.home_sec02 .home_paint02').style.height = `${421 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 421 - (421 / (556 / 348.5))}px`
        } else if (window.innerWidth <= 768) {
            document.querySelector('.home_mixer_bt').style.width = `${556 * 0.08}px`
            document.querySelector('.home_mixer_bt').style.height = `${616 * 0.08}px`
            document.querySelector('.home_mixer_bt').style.top = `60px`
            document.querySelector('.home_mixer_bt').style.left = `${(window.innerWidth + parseInt(document.querySelector('.home_remix').style.width)) / 2}px`
            document.querySelector('.home_mixer_bt').addEventListener('click', home_mixer_bt_click);
        }
        if (window.innerWidth > 768) {
            document.querySelector('.home_mixer_bt').removeEventListener('click', home_mixer_bt_click);
        }
        if (window.innerHeight <= 576) {
            document.querySelector('.text0').style.height = '100%'
            document.querySelector('.text1').style.height = '0px';
            document.querySelector('.text2').style.height = '0px';
            document.querySelector('.text3').style.height = '0px';
            li1Click = false;
            li2Click = false;
            li3Click = false;
        }

        // RANK
        if (window.innerWidth <= 576) {
            set_value = {
                size: parseInt(160 - (((1920 - window.innerWidth) / 16) * 0.01 * 120)),
                translateZ: parseInt(360 - (((1920 - window.innerWidth) / 16) * 0.01 * 130)),
            }
        } else {
            set_value = {
                size: parseInt(160 - (((1920 - window.innerWidth) / 16) * 0.01 * 60)),
                translateZ: parseInt(360 - (((1920 - window.innerWidth) / 16) * 0.01 * 130)),
            }
        }

        document.querySelector('.rank_title').style.margin = `${180 - (((1920 - window.innerWidth) / 16) * 0.01 * 20)}px auto 0 auto`;

        for (let i = 0; i < 10; i++) {
            if (i + 1 == rankOrder) {
                document.querySelector(`.home_song${rankOrder}`).setAttribute('style', `width: ${set_value.size}px; height: ${set_value.size}px; transform: rotateY(${+ transform_rotate[i]}deg) translateZ(${set_value.translateZ}px) scale(1.18);`);
                if (window.innerWidth <= 576) {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).style.transform = `translateX(${set_value.size}px)`;
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).style.width = `200%`;
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                } else {
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).style.transform = `translateX(${-set_value.size}px)`;
                    document.querySelector(`.home_song${rankOrder} .home_song_info`).style.width = `100%`;
                    document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                }
            } else {
                document.querySelector(`.home_song${i + 1}`).setAttribute('style', `width: ${set_value.size}px;height: ${set_value.size}px;transform: rotateY(${+ transform_rotate[i]}deg) translateZ(${set_value.translateZ}px`);
            }
        }

        if (window.innerWidth <= 576) {
            document.querySelectorAll('.home_song_info .more i').forEach((el) => {
                el.classList.remove('fa-chevron-down');
                el.classList.add('fa-chevron-right');
            });
        } else {
            document.querySelectorAll('.home_song_info .more i').forEach((el) => {
                el.classList.add('fa-chevron-down');
                el.classList.remove('fa-chevron-right');
            });
        }

        document.querySelector('.home_perspective').setAttribute('style', `top: ${100 - (((1080 - window.innerHeight) / 6) * 0.01 * 40)}px; left: ${390 - (((1920 - window.innerWidth) / 16) * 0.01 * 950)}px`);
        document.querySelector('.home_song_container').style.top = `${260 - (((1920 - window.innerWidth) / 16) * 0.01 * 70)}px`
        if (window.innerWidth <= 576) {
            document.querySelector('.home_arrow_container').style.margin = `${280 - (((1920 - window.innerWidth) / 16) * 0.01 * 160)}px auto 0 ${60 - (((576 - window.innerWidth) / 2.56) * 0.01 * 30)}px`;
        } else if (window.innerWidth > 576 && window.innerWidth <= 768) {
            document.querySelector('.home_arrow_container').style.margin = `240px auto 0 auto`;
        } else if (window.innerWidth > 768) {
            document.querySelector('.home_arrow_container').style.margin = `${420 - (((1920 - window.innerWidth) / 11.52) * 0.01 * 160)}px auto 0 auto`;
        }

        if (window.innerWidth <= 768) {
            document.querySelector('.home_arrow_container').style.width = `${600 - (((768 - window.innerWidth) / 4.48) * 0.01 * 350)}px`
        } else {
            document.querySelector('.home_arrow_container').style.width = `600px`
        }


        // ACTIVITY
        if (window.innerWidth > 1440) {
            document.querySelector('.home_activity_info').style.right = `${780 - (((1920 - window.innerWidth) / 4.8) * 0.01 * 335)}px`
            document.querySelector('.home_DJ').style.left = `0px`
        }
        if (window.innerWidth <= 1440 && window.innerWidth > 870) {
            document.querySelector('.home_DJ').style.left = `${0 - (((1440 - window.innerWidth) / 5.7) * 0.01 * 613)}px`
            document.querySelector('.home_activity_info').style.right = '445px'
        } else if (window.innerWidth <= 870) {
            document.querySelector('.home_DJ').style.left = `-613px`
        }

        if (window.innerWidth <= 870 && window.innerWidth > 768) {
            document.querySelector('.home_activity_info').style.right = `${445 - (((870 - window.innerWidth) / 1.02) * 0.01 * 55)}px`
        }

        // COLLECTION
        if (window.innerWidth > 1280) {
            document.querySelector('.home_girl').style.left = `${160 - (((1920 - window.innerWidth) / 6.4) * 0.01 * 160)}px`
            document.querySelector('.text_container').style.margin = `0px`
        } else if (window.innerWidth <= 1280 && window.innerWidth > 992) {
            document.querySelector('.home_girl').style.left = `${0 - (((1280 - window.innerWidth) / 2.88) * 0.01 * 30)}px`
            document.querySelector('.text_container').style.margin = `0 0 0 ${(window.innerWidth - 990) / 2}px`
        } else if (window.innerWidth <= 992 && window.innerWidth > 768) {
            document.querySelector('.home_girl').style.left = `${-30 - (((1280 - window.innerWidth) / 2.88) * 0.01 * 30)}px`
        }
        if (window.innerWidth <= 992) {
            document.querySelector('.text_container').style.margin = `0px`
        }
        if (window.innerWidth <= 992 && window.innerWidth > 768) {
            document.querySelector('.home_sort_container').style.margin = `0 0 0 ${460 - (((992 - window.innerWidth) / 2.24) * 0.01 * 220)}px`
        } else {
            document.querySelector('.home_sort_container').style.margin = `0px`
        }

        // ABOUT
        if (window.innerWidth > 1280) {
            document.querySelector('.home_audioMan').style.left = `${320 - (((1920 - window.innerWidth) / 6.4) * 0.01 * 320)}px`
            document.querySelector('.home_about_text h2').style.margin = `0 0 0 540px`
            document.querySelector('.home_about_text h3').style.margin = `0 0 0 540px`
            document.querySelector('.home_about_text .home_logo').style.margin = `0 0 0 540px`
            document.querySelector('.home_about_text p').style.margin = `0 0 0 540px`
        } else if (window.innerWidth <= 1280 && window.innerWidth > 740) {
            document.querySelector('.home_audioMan').style.left = `${0 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
            document.querySelector('.home_about_text h2').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
            document.querySelector('.home_about_text h3').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
            document.querySelector('.home_about_text .home_logo').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 552)}px`
            document.querySelector('.home_about_text p').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
        } else if (window.innerWidth <= 740) {
            document.querySelector('.home_audioMan').style.left = `-540px`
            document.querySelector('.home_about_text h2').style.margin = `0 0 0 0px`
            document.querySelector('.home_about_text h3').style.margin = `0 0 0 0px`
            document.querySelector('.home_about_text .home_logo').style.margin = `0 0 0 -12px`
            document.querySelector('.home_about_text p').style.margin = `0 0 0 0px`

        }


        $(window).resize(() => {
            // HOME
            //                                                                 元素最大寬度 - ((螢幕最大寬度 - 當前螢幕寬度) / 16) => 最小螢幕寬度 320，1920-320=1600，除以16=100 => * 0.01 分成100% => 每一% * 元素最大寬與最小寬之差
            document.querySelector('.home_vinyl_records').setAttribute('style', `left: ${-250 + ((1920 - window.innerWidth) / 16) * 0.01 * 70}px; width: ${1100 - ((1920 - window.innerWidth) / 16) * 0.01 * 700}px; height: ${1100 - ((1920 - window.innerWidth) / 16) * 0.01 * 700}px`);
            document.querySelector('.home_stylus').setAttribute('style', `top: ${-30 + ((1920 - window.innerWidth) / 16) * 0.01 * 55}px; left: ${480 - ((1920 - window.innerWidth) / 16) * 0.01 * 360}px; width: ${618 - ((1920 - window.innerWidth) / 16) * 0.01 * 393}px; height: ${180 - ((1920 - window.innerWidth) / 16) * 0.01 * 114.5}px`);
            document.querySelector('.home_cover_img').style.top = `calc((100% - ${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px) / 2)`
            document.querySelector('.home_cover_img').style.left = `calc((100% - ${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px) / 2)`
            document.querySelector('.home_cover_img').style.width = `${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px`
            document.querySelector('.home_cover_img').style.height = `${370 - ((1920 - window.innerWidth) / 16) * 0.01 * 230}px`
            document.querySelector('.home_vinyl_records').style.top = `${-80 - ((1080 - window.innerHeight) / 6) * 0.01 * 140}px`

            // title
            if (window.innerWidth <= window.innerHeight) {
                // window 320px 時 ex:188.4 => 原寬度 * 0.2
                document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1080 - window.innerHeight) / 6) * 0.01 * 188.4}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
                document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1920 - window.innerWidth) / 16) * 0.01 * 188.4}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
                document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 154.5}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
                document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 154.5}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
                document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1080 - window.innerHeight) / 6) * 0.01 * 225}px; height: ${129 - ((1080 - window.innerHeight) / 6) * 0.01 * 77.4}px;`);
                document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1920 - window.innerWidth) / 16) * 0.01 * 225}px; height: ${129 - ((1920 - window.innerWidth) / 16) * 0.01 * 77.4}px;`);
                document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 312.9}px; height: ${125 - ((1080 - window.innerHeight) / 6) * 0.01 * 75}px;`);
                document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 312.9}px; height: ${125 - ((1920 - window.innerWidth) / 16) * 0.01 * 75}px;`);
                document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1080 - window.innerHeight) / 6) * 0.01 * 187.2}px; height: ${114 - ((1080 - window.innerHeight) / 6) * 0.01 * 68.4}px;`);
                document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1920 - window.innerWidth) / 16) * 0.01 * 187.2}px; height: ${114 - ((1920 - window.innerWidth) / 16) * 0.01 * 68.4}px;`);
            } else if (window.innerWidth > window.innerHeight) {
                document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1920 - window.innerWidth) / 16) * 0.01 * 188.4}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
                document.querySelector('.home_remix').setAttribute('style', `width: ${314 - ((1080 - window.innerHeight) / 6) * 0.01 * 188.4}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
                document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 154.5}px; height: ${115 - ((1920 - window.innerWidth) / 16) * 0.01 * 69}px;`);
                document.querySelector('.home_rank').setAttribute('style', `width: ${257.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 154.5}px; height: ${115 - ((1080 - window.innerHeight) / 6) * 0.01 * 69}px;`);
                document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1920 - window.innerWidth) / 16) * 0.01 * 225}px; height: ${129 - ((1920 - window.innerWidth) / 16) * 0.01 * 77.4}px;`);
                document.querySelector('.home_activity').setAttribute('style', `width: ${375 - ((1080 - window.innerHeight) / 6) * 0.01 * 225}px; height: ${129 - ((1080 - window.innerHeight) / 6) * 0.01 * 77.4}px;`);
                document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1080 - window.innerHeight) / 6) * 0.01 * 312.9}px; height: ${125 - ((1080 - window.innerHeight) / 6) * 0.01 * 75}px;`);
                document.querySelector('.home_collection').setAttribute('style', `width: ${521.5 - ((1920 - window.innerWidth) / 16) * 0.01 * 312.9}px; height: ${125 - ((1920 - window.innerWidth) / 16) * 0.01 * 75}px;`);
                document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1080 - window.innerHeight) / 6) * 0.01 * 187.2}px; height: ${114 - ((1080 - window.innerHeight) / 6) * 0.01 * 68.4}px;`);
                document.querySelector('.home_about').setAttribute('style', `width: ${312 - ((1920 - window.innerWidth) / 16) * 0.01 * 187.2}px; height: ${114 - ((1920 - window.innerWidth) / 16) * 0.01 * 68.4}px;`);
            }

            // REMIX
            document.querySelector('.home_mixer_bt').style.top = `${60 + parseInt(document.querySelector('.home_remix').style.height)}px`
            if (window.innerWidth >= 1280) {
                document.querySelector('.home_mixer_bt').style.left = `${1044 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 340}px`
                document.querySelector('.home_sec02 .home_paint01').style.left = `${1002 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 340}px`
                document.querySelector('.home_sec02 .home_paint02').style.left = `${1088 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 340}px`
            } else if (window.innerWidth > 768 && window.innerWidth < 1280) {
                document.querySelector('.home_mixer_bt').style.left = `${704 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 320}px`
                document.querySelector('.home_mixer_bt').style.width = `${556 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 171.5}px`
                document.querySelector('.home_mixer_bt').style.height = `${616 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 171.5}px`
                document.querySelector('.home_sec02 .home_paint01').style.left = `${662 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 320}px`
                document.querySelector('.home_sec02 .home_paint01').style.width = `${398 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 398 - (398 / (556 / 348.5))}px`
                document.querySelector('.home_sec02 .home_paint01').style.height = `${138 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 138 - (138 / (556 / 348.5))}px`
                document.querySelector('.home_sec02 .home_paint02').style.left = `${748 - ((1280 - window.innerWidth) / 5.12) * 0.01 * 320}px`
                document.querySelector('.home_sec02 .home_paint02').style.bottom = `${30 + ((1280 - window.innerWidth) / 5.12) * 0.01 * 160}px`
                document.querySelector('.home_sec02 .home_paint02').style.width = `${552 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 552 - (552 / (556 / 348.5))}px`
                document.querySelector('.home_sec02 .home_paint02').style.height = `${421 - ((1920 - window.innerWidth) / 6.4) * 0.01 * 421 - (421 / (556 / 348.5))}px`
            } else if (window.innerWidth <= 768) {
                document.querySelector('.home_mixer_bt').style.width = `${556 * 0.08}px`
                document.querySelector('.home_mixer_bt').style.height = `${616 * 0.08}px`
                document.querySelector('.home_mixer_bt').style.top = `60px`
                document.querySelector('.home_mixer_bt').style.left = `${(window.innerWidth + parseInt(document.querySelector('.home_remix').style.width)) / 2}px`
                document.querySelector('.home_mixer_bt').addEventListener('click', home_mixer_bt_click);
            }
            if (window.innerWidth > 768) {
                document.querySelector('.home_mixer_bt').removeEventListener('click', home_mixer_bt_click);
            }
            if (window.innerHeight <= 576) {
                document.querySelector('.text0').style.height = '100%'
                document.querySelector('.text1').style.height = '0px';
                document.querySelector('.text2').style.height = '0px';
                document.querySelector('.text3').style.height = '0px';
                li1Click = false;
                li2Click = false;
                li3Click = false;
            }

            // RANK
            if (window.innerWidth <= 576) {
                set_value = {
                    size: parseInt(160 - (((1920 - window.innerWidth) / 16) * 0.01 * 120)),
                    translateZ: parseInt(360 - (((1920 - window.innerWidth) / 16) * 0.01 * 130)),
                }
            } else {
                set_value = {
                    size: parseInt(160 - (((1920 - window.innerWidth) / 16) * 0.01 * 60)),
                    translateZ: parseInt(360 - (((1920 - window.innerWidth) / 16) * 0.01 * 130)),
                }
            }

            document.querySelector('.rank_title').style.margin = `${180 - (((1920 - window.innerWidth) / 16) * 0.01 * 20)}px auto 0 auto`;
            document.querySelector('.rank_title').style.margin = `${parseInt(document.querySelector('.rank_title').style.margin) - (((1080 - window.innerHeight) / 6) * 0.01 * 20)}px auto 0 auto`;


            for (let i = 0; i < 10; i++) {
                if (i + 1 == rankOrder) {
                    document.querySelector(`.home_song${rankOrder}`).setAttribute('style', `width: ${set_value.size}px; height: ${set_value.size}px; transform: rotateY(${+ transform_rotate[i]}deg) translateZ(${set_value.translateZ}px) scale(1.18);`);
                    if (window.innerWidth <= 576) {
                        document.querySelector(`.home_song${rankOrder} .home_song_info`).style.transform = `translateX(${set_value.size}px)`;
                        document.querySelector(`.home_song${rankOrder} .home_song_info`).style.width = `200%`;
                        document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${-set_value.size / 2}px)`;
                    } else {
                        document.querySelector(`.home_song${rankOrder} .home_song_info`).style.transform = `translateX(${-set_value.size}px)`;
                        document.querySelector(`.home_song${rankOrder} .home_song_info`).style.width = `100%`;
                        document.querySelector(`.home_song${rankOrder} .home_vinyl_records_s`).style.transform = `translateX(${set_value.size / 2}px)`;
                    }
                } else {
                    document.querySelector(`.home_song${i + 1}`).setAttribute('style', `width: ${set_value.size}px;height: ${set_value.size}px;transform: rotateY(${+ transform_rotate[i]}deg) translateZ(${set_value.translateZ}px`);
                }
            }

            if (window.innerWidth <= 576) {
                document.querySelectorAll('.home_song_info .more i').forEach((el) => {
                    el.classList.remove('fa-chevron-down');
                    el.classList.add('fa-chevron-right');
                });
            } else {
                document.querySelectorAll('.home_song_info .more i').forEach((el) => {
                    el.classList.add('fa-chevron-down');
                    el.classList.remove('fa-chevron-right');
                });
            }

            document.querySelector('.home_perspective').setAttribute('style', `top: ${100 - (((1080 - window.innerHeight) / 6) * 0.01 * 40)}px; left: ${390 - (((1920 - window.innerWidth) / 16) * 0.01 * 950)}px`);
            document.querySelector('.home_song_container').style.top = `${260 - (((1920 - window.innerWidth) / 16) * 0.01 * 70)}px`
            if (window.innerWidth <= 576) {
                document.querySelector('.home_arrow_container').style.margin = `${280 - (((1920 - window.innerWidth) / 16) * 0.01 * 160)}px auto 0 ${60 - (((576 - window.innerWidth) / 2.56) * 0.01 * 30)}px`;
            } else if (window.innerWidth > 576 && window.innerWidth <= 768) {
                document.querySelector('.home_arrow_container').style.margin = `240px auto 0 auto`;
            } else if (window.innerWidth > 768) {
                document.querySelector('.home_arrow_container').style.margin = `${420 - (((1920 - window.innerWidth) / 11.52) * 0.01 * 160)}px auto 0 auto`;
            }

            if (window.innerWidth <= 768) {
                document.querySelector('.home_arrow_container').style.width = `${600 - (((768 - window.innerWidth) / 4.48) * 0.01 * 350)}px`
            } else {
                document.querySelector('.home_arrow_container').style.width = `600px`
            }

            // ACTIVITY
            if (window.innerWidth > 1440) {
                document.querySelector('.home_activity_info').style.right = `${780 - (((1920 - window.innerWidth) / 4.8) * 0.01 * 335)}px`
                document.querySelector('.home_DJ').style.left = `0px`
            }
            if (window.innerWidth <= 1440 && window.innerWidth > 870) {
                document.querySelector('.home_DJ').style.left = `${0 - (((1440 - window.innerWidth) / 5.7) * 0.01 * 613)}px`
                document.querySelector('.home_activity_info').style.right = '445px'
            } else if (window.innerWidth <= 870) {
                document.querySelector('.home_DJ').style.left = `-613px`
            }

            if (window.innerWidth <= 870 && window.innerWidth > 768) {
                document.querySelector('.home_activity_info').style.right = `${445 - (((870 - window.innerWidth) / 1.02) * 0.01 * 55)}px`
            }

            // COLLECTION
            if (window.innerWidth > 1280) {
                document.querySelector('.home_girl').style.left = `${160 - (((1920 - window.innerWidth) / 6.4) * 0.01 * 160)}px`
                document.querySelector('.text_container').style.margin = `0px`
            } else if (window.innerWidth <= 1280 && window.innerWidth > 992) {
                document.querySelector('.home_girl').style.left = `${0 - (((1280 - window.innerWidth) / 2.88) * 0.01 * 30)}px`
                document.querySelector('.text_container').style.margin = `0 0 0 ${(window.innerWidth - 990) / 2}px`
            } else if (window.innerWidth <= 992 && window.innerWidth > 768) {
                document.querySelector('.home_girl').style.left = `${-30 - (((1280 - window.innerWidth) / 2.88) * 0.01 * 30)}px`
            }
            if (window.innerWidth <= 992) {
                document.querySelector('.text_container').style.margin = `0px`
            }
            if (window.innerWidth <= 992 && window.innerWidth > 768) {
                document.querySelector('.home_sort_container').style.margin = `0 0 0 ${460 - (((992 - window.innerWidth) / 2.24) * 0.01 * 220)}px`
            } else {
                document.querySelector('.home_sort_container').style.margin = `0px`
            }

            // ABOUT
            if (window.innerWidth > 1280) {
                document.querySelector('.home_audioMan').style.left = `${320 - (((1920 - window.innerWidth) / 6.4) * 0.01 * 320)}px`
                document.querySelector('.home_about_text h2').style.margin = `0 0 0 540px`
                document.querySelector('.home_about_text h3').style.margin = `0 0 0 540px`
                document.querySelector('.home_about_text .home_logo').style.margin = `0 0 0 540px`
                document.querySelector('.home_about_text p').style.margin = `0 0 0 540px`
            } else if (window.innerWidth <= 1280 && window.innerWidth > 740) {
                document.querySelector('.home_audioMan').style.left = `${0 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
                document.querySelector('.home_about_text h2').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
                document.querySelector('.home_about_text h3').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
                document.querySelector('.home_about_text .home_logo').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 552)}px`
                document.querySelector('.home_about_text p').style.margin = `0 0 0 ${540 - (((1280 - window.innerWidth) / 5.4) * 0.01 * 540)}px`
            } else if (window.innerWidth <= 740) {
                document.querySelector('.home_audioMan').style.left = `-540px`
                document.querySelector('.home_about_text h2').style.margin = `0 0 0 0px`
                document.querySelector('.home_about_text h3').style.margin = `0 0 0 0px`
                document.querySelector('.home_about_text .home_logo').style.margin = `0 0 0 -12px`
                document.querySelector('.home_about_text p').style.margin = `0 0 0 0px`

            }

        });  // window resize end

        // ===============================================================================================================

        let audio = $('#audioPlayer')[0];
        let vol_s, vol_b, vol_drag = false,
            songTime, //目前播放歌曲時間
            playStatus = true, //撥放狀態-true:播放中
            playerAuto = true, //---- 是否要自動撥放
            nowPlaying = 0, //現在播放的歌索引值
            nowPlayerList,
            myPlaylist = phpGetListName = [], // 目前播放清單 | php抓來的清單 | 會員資料
            playerListName, //player清單名
            listLen = myPlaylist.length;

        // audio

        let context = new (window.AudioContext || window.webkitAudioContext);
        let analyser = context.createAnalyser();
        analyser.fftSize = 4096;

        let source = context.createMediaElementSource(audio);
        source.connect(analyser);
        analyser.connect(context.destination);
        let frequency_array = new Float32Array(analyser.frequencyBinCount); //音頻取值

        /* ---------------- player load ---------------- */
        //撥放器縮放
        $('#expand').click(function () {
            $('.player_b').addClass('open');
            $('.player_s').animate({
                bottom: '-70px'
            });
            ListTopInfo();
        });
        $('#closePlayer').click(function () {
            $('.player_b').removeClass('open');
            $('.player_s').animate({
                bottom: '0'
            });
        });

        //手機推移
        $('.left .pushBtn').click(function () {
            $('.left').css('height', '10%');
            $('.right').css('height', '90%');
            $('.right .pushBtn').show();
            $('.left .pushBtn').hide();
        });
        $('.right .pushBtn').click(function () {
            $('.left').css('height', '90%');
            $('.right').css('height', '10%');
            $('.left .pushBtn').show();
            $('.right .pushBtn').hide();
        });

        //selectbtn -- 跳燈箱
        $('#player .selectBtn').click(function () {
            $('#player .lightCover').show();
            $('#player #myAllList').show();
            getLightName();
        });
        $('#player #myAllList').click(function (e) {
            e.stopPropagation();
        });

        //歌單清單
        $('.closeLight').click(function () {
            $('.lightCover').hide();
            $('#player #myAllList').hide();
        });


        //顯示歌曲點愛心
        $('#player .songInfo').on('click', '.heart', function () {
            let songName = $(this).siblings('.name').text();
            let playerInd = getPlayerSongIndex(songName);
            let favSongInd = myPlaylist[playerInd].song_no;
            if (!member['mem_no']) {
                //  $('#player .lightCover').show();
                //  $('#playerAlert').show();
                //  $('#playerAlert h4').text('Please login!');
                alert('Please login!');
            } else {
                if ($(this).hasClass('becomeRed')) {
                    $('#playerfavorStatus').val('gray');
                    $(this).html('<img src="./img/collection/grayheart.png">').removeClass('becomeRed');
                } else {
                    $('#playerfavorStatus').val('red');
                    $(this).html('<img src="./img/collection/redheart.png">').addClass('becomeRed');
                }
                playerFavorStatus(favSongInd);
            }
        });

        //播放清單點愛心
        $('#player .list').on('click', '.heart', function () {
            let songName = $(this).siblings('.listSongInfo').find('.name h4').text();
            let playerInd = getPlayerSongIndex(songName);
            let favSongInd = myPlaylist[playerInd].song_no;
            if (!member['mem_no']) {
                //  $('#player .lightCover').show();
                //  $('#playerAlert').show();
                //  $('#playerAlert h4').text('Please login!');
                alert('Please login!');
            } else {
                if ($(this).hasClass('becomeRed')) {
                    $('#playerfavorStatus').val('gray');
                    $(this).html('<img src="./img/collection/grayheart.png">').removeClass('becomeRed');
                } else {
                    $('#playerfavorStatus').val('red');
                    $(this).html('<img src="./img/collection/redheart.png">').addClass('becomeRed');
                }
                playerFavorStatus(favSongInd);
            }
        });

        //點歌單撥放，左側專輯唱片動畫
        $('#player').on('mouseover', '.songCover', function () {
            $(this).find('.listPlay').show();
        });
        $('#player').on('mouseout', '.songCover', function () {
            $(this).find('.listPlay').hide();
        });

        //選擇播放歌單
        $('#myAllList ul').on('click', 'li', function () {
            playerListName = $(this).text();
            $(this).addClass('choose');
            $('#player #myAllList li').not(this).removeClass('choose');
            $('#player .list ul').addClass('chooseList');
            $('#plistName').val(playerListName);
        });

        $('#myAllList #mylistOK').click(function () {
            if (playerListName == undefined) {
                myPlaylist = myPlaylist;
            } else {
                if (playerListName == 'Liked songs') {
                    getLikedList()
                    if (temporary === true) {
                        if (home_play === true) {
                            myPlaylist.splice(0, 1);
                            temporary = false;
                            home_play = false;
                            nowPlaying = 0;
                            document.querySelector('.home_play[data-playstatus=true]').setAttribute('data-playstatus', 'false');
                            isPlaying(true);

                        } else {
                            myPlaylist.splice(0, 1);
                            temporary = false;
                            home_play = false;
                            isPlaying(true);
                        }
                    } else {
                        isPlaying(true);
                    }
                } else {
                    if (!vm.member.mem_no) {
                        showAllSongs()
                        if (temporary === true) {
                            if (home_play === true) {
                                myPlaylist.splice(0, 1);
                                temporary = false;
                                home_play = false;
                                nowPlaying = 0;
                                document.querySelector('.home_play[data-playstatus=true]').setAttribute('data-playstatus', 'false');
                                isPlaying(true);

                            } else {
                                myPlaylist.splice(0, 1);
                                temporary = false;
                                home_play = false;
                                isPlaying(true);
                            }
                        } else {
                            isPlaying(true);
                        }

                    } else {
                        getOtherPlayList()
                        if (temporary === true) {
                            if (home_play === true) {
                                myPlaylist.splice(0, 1);
                                temporary = false;
                                home_play = false;
                                nowPlaying = 0;
                                document.querySelector('.home_play[data-playstatus=true]').setAttribute('data-playstatus', 'false');
                                isPlaying(true);

                            } else {
                                myPlaylist.splice(0, 1);
                                temporary = false;
                                home_play = false;
                                isPlaying(true);
                            }
                        } else {
                            isPlaying(true);
                        }

                    }
                }
                nowPlaying = 0;
                audio.currentTime = 0;
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                $("#player .songInfo .name").text(myPlaylist[nowPlaying].song_name);
                $("#player .songInfo .creator").text(myPlaylist[nowPlaying].mem_name);
                $("#player .info img").not(".coverRec img").not(".heart img").attr("src", myPlaylist[nowPlaying].song_pic);
            }
            ListTopInfo();
            $('.lightCover').hide();
            $('#player #myAllList').hide();
        });

        /* ---------------- 音樂播放器 ---------------- */


        //播放暫停按鈕 -- 音樂撥放/暫停
        $("#player .play").click(function () {
            isPlaying(playStatus);
        });

        //下一首按鈕 -- 切換下一首
        $("#player .next").click(function () {
            if (nowPlaying == listLen - 1) {
                nowPlaying = listLen - 1;
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
            } else {
                nowPlaying++;
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
            }
            if (temporary === true) {
                if (home_play === true) {
                    myPlaylist.splice(0, 1);
                    nowPlaying = 0;
                    temporary = false;
                    home_play = false;
                    $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                    document.querySelector('.home_play[data-playstatus=true] i.fa-pause').classList.add('fa-play')
                    document.querySelector('.home_play[data-playstatus=true] i.fa-pause').classList.remove('fa-pause')
                    document.querySelector('.home_play[data-playstatus=true]').setAttribute('data-playstatus', 'false');
                    if (playStatus == true) {
                        isPlaying(false);
                    } else {
                        isPlaying(true);
                    }

                } else {
                    myPlaylist.splice(0, 1);
                    temporary = false;
                    home_play = false;
                    $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                    if (playStatus == true) {
                        isPlaying(false);
                    } else {
                        isPlaying(true);
                    }
                }
            } else {
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                if (playStatus == true) {
                    isPlaying(false);
                } else {
                    isPlaying(true);
                }
            }
            listStatus();
        });

        //上一首按鈕 -- 切換上一首
        $("#player .prev").click(function () {
            if (nowPlaying == 0) {
                nowPlaying = 0;
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
            } else {
                nowPlaying--;
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);

            }
            if (temporary === true) {
                if (home_play === true) {
                    myPlaylist.splice(0, 1);
                    nowPlaying = 0;
                    temporary = false;
                    home_play = false;
                    $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                    document.querySelector('.home_play[data-playstatus=true] i.fa-pause').classList.add('fa-play')
                    document.querySelector('.home_play[data-playstatus=true] i.fa-pause').classList.remove('fa-pause')
                    document.querySelector('.home_play[data-playstatus=true]').setAttribute('data-playstatus', 'false');
                    if (playStatus == true) {
                        isPlaying(false);
                    } else {
                        isPlaying(true);
                    }

                } else {
                    myPlaylist.splice(0, 1);
                    temporary = false;
                    home_play = false;
                    $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                    if (playStatus == true) {
                        isPlaying(false);
                    } else {
                        isPlaying(true);
                    }
                }
            } else {
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                if (playStatus == true) {
                    isPlaying(false);
                } else {
                    isPlaying(true);
                }
            }
            listStatus();
        });

        //停止按鈕 -- 音樂全數停止
        $("#player .stop").click(function () {
            audio.pause();
            audio.currentTime = 0;
            isPlaying(true);
            $("#player .songCover .listPlay").removeClass('nowlistening');
            $(".songs .listPlay").removeClass('nowlistening');
        });

        //循環播放 -- 單首ok
        $("#player .loop").click(function () {
            if ($(this).hasClass("becomeYel")) {
                $(this).removeClass("becomeYel");
                $("#player .rand").attr("disabled", false);
                audio.loop = false;
                autoChange(true);
            } else {
                $(this).addClass("becomeYel");
                $("#player .rand").attr("disabled", true);
                audio.loop = true;
                autoChange(false);
            }
        });

        //隨機播放 -- 清單隨機
        $("#player .rand").click(function () {
            if ($(this).hasClass("becomeYel")) {
                $(this).removeClass("becomeYel");
                $("#player .loop").attr("disabled", false);
                autoChange(true);
            } else {
                $(this).addClass("becomeYel");
                $("#player .loop").attr("disabled", true);
                autoChange(false);
            }
        });

        //maybe有靜音 volIcon
        $("#player .volicon").click(function () {
            if (audio.muted) {
                audio.muted = false;
                $(".player_s .volicon i").css('color', 'white');
                $(".player_b .volicon i").css('color', '#333');
                $(".volLine .volControl").css('background-color', '#f1c40f');
            } else {
                audio.muted = true;
                $(this).find('i').css('color', '#f1c40f');
                $(".volLine .volControl").css('background-color', 'white');
            }
        });
        $(".volLine").mousedown(function () {
            vol_drag = true;
        });
        $(document).mouseup(function (e) {
            if (vol_drag) {
                volPos(e.pageX);
            }
            vol_drag = false;
        });

        //clickBar -- 詳細(b)/簡易(s)
        $(".player_b .progressbar").click(function (e) {
            let progressBarSize_b = parseInt($(".player_b .progressbar").css("width"));
            let mouseX_b = e.clientX - $(".player_b .progressbar").offset().left;
            $(".player_b .progressbar .progress").css('width', `${mouseX_b}px`);

            let newTime_b = mouseX_b / (progressBarSize_b / audio.duration);
            audio.currentTime = newTime_b;
        });

        $(".player_s .progressbar").click(function (e) {
            let progressBarSize_s = parseInt($(".player_s .progressbar").css("width"));
            let mouseX_s = e.clientX - $(".player_s .progressbar").offset().left;
            $(".player_s .progressbar .progress").css('width', `${mouseX_s}px`);
            let newTime_s = mouseX_s / (progressBarSize_s / audio.duration);
            audio.currentTime = newTime_s;

        });

        //清單播放點擊
        $('#player').on('click', ".listPlay", function () {
            nowPlaying = $(this).parent().parent().index();
            $("#player .listPlay").not(this).removeClass("nowlistening").html('<img src="./img/library/coverPlay-s.png">');
            if ($(this).hasClass('nowlistening')) {
                if (playStatus) {
                    $(this).html('<img src="./img/library/coverPlay-s.png">');
                    isPlaying(true);
                } else {
                    $(this).html('<img src="./img/library/coverPause-s.png">');
                    isPlaying(false);
                }
            } else {
                $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                audio.load();
                $(this).html('<img src="./img/library/coverPause-s.png">');
                isPlaying(false);
                $(this).addClass("nowlistening");
            }
            listStatus();
        });

        /* ---------------- load end ---------------- */

        //初始化

        //取得Liked Songs
        let getLikedList = () => {
            let xhr = new XMLHttpRequest();
            xhr.onload = () => {
                if (xhr.status == 200) {
                    console.log(xhr.responseText)
                    myPlaylist = JSON.parse(xhr.responseText);
                    listLen = myPlaylist.length;
                    createPlayerList(myPlaylist);
                } else {
                    alert(xhr.statusText);
                }
            };
            let url = "./phps/likedSongsList.php";
            xhr.open("get", url, false);
            xhr.send(null);
        };

        (function playerInit() {
            audio.volume = 0.5;
            if (vm.member.mem_no) {
                playerListName = 'Liked songs';
                if (localStorage['listName']) {
                    playerListName = localStorage['listName'];
                    getOtherPlayList();
                } else {
                    getLikedList();
                }
            } else {
                showAllSongs();
            }
            isLocalHave();
            ListTopInfo();
        })();

        //取得Light -- ListName
        function getLightName() {
            if (!vm.member.mem_no) {
                mylistInfo = [{ "plist_name": "Total songs", "list_pic": "./img/library/list_pic_no.jpg" }];
                lightListName(mylistInfo);
            } else {
                let xhr = new XMLHttpRequest();
                xhr.onload = function () {
                    if (xhr.status == 200) {
                        phpGetListName = JSON.parse(xhr.responseText);
                        mylistInfo = phpGetListName;
                        lightListName(mylistInfo);
                    } else {
                        alert(xhr.statusText);
                    }
                };
                let url = "./phps/getListName.php";
                xhr.open("get", url, true);
                xhr.send(null);
            }
        }

        //取得all songs
        function showAllSongs() {
            let xhr = new XMLHttpRequest();
            xhr.onload = function () {
                if (xhr.status == 200) {
                    myPlaylist = JSON.parse(xhr.responseText);
                    listLen = myPlaylist.length;
                    createPlayerList(myPlaylist);
                } else {
                    alert(xhr.statusText);
                }
            };
            let url = "./phps/allSongs.php";
            xhr.open("get", url, false);
            xhr.send(null);
        }

        //取得歌單列表 -- 
        function getOtherPlayList() {
            let xhr = new XMLHttpRequest();
            xhr.onload = function () {
                if (xhr.status == 200) {
                    console.log(xhr.responseText)

                    myPlaylist = JSON.parse(xhr.responseText);
                    listLen = myPlaylist.length;
                    createPlayerList(myPlaylist);
                } else {
                    alert(xhr.status);
                }
            };
            let url = `./php/showPlayList.php?plistName=${playerListName}`;
            xhr.open("GET", url, false);
            xhr.send(null);
        }
        //歌單資訊
        function ListTopInfo() {
            let listIndex = getPlayerListIndex(playerListName);
            if (vm.member.mem_no) {
                if (playerListName == 'Liked songs') {
                    $('#player .heart').not('.list .heart').addClass('becomeRed');
                    $('#player .heart img').not('.list .heart').attr('src', './img/collection/redheart.png');
                    $('.player_b .listCover img').attr('src', './img/library/list_pic0.jpg');
                    $('.player_b .listName h2').text('Liked songs');
                } else {
                    if (listIndex != -1) {
                        $('#player .heart').not('.list .heart').addClass('becomeRed');
                        $('#player .heart img').not('.list .heart').attr('src', './img/collection/redheart.png');
                        $('.player_b .listCover img').attr('src', myPlaylist[listIndex].list_pic);
                        $('.player_b .listName h2').text(playerListName);
                    } else {
                        $('.player_b .listCover img').attr('src', './img/library/list_pic_no.jpg');
                        $('.player_b .listName h2').text(playerListName);
                    }
                }
            } else {
                $('.player_b .listCover img').attr('src', './img/library/list_pic_no.jpg');
                $('.player_b .listName h2').text('Total songs');
            }
            $('.player_b .listName span').text(`${listLen} songs`);
        }

        //創建歌單
        function createPlayerList(songlistbuild) {
            $('#player .list ul').text("");
            if (songlistbuild != "") {
                if (vm.member.mem_no) {
                    for (let i = 0; i < songlistbuild.length; i++) {
                        $('#player .list ul').append(`<li>
        <div class="songCover">
          <img src="${songlistbuild[i].song_pic}" alt="">
          <div class="listPlay"><img src="./img/library/coverPlay-s.png"></div>
        </div>
        <div class="listSongInfo">
          <div class="name">
            <h4><a href="./songinfo.html?song_no=${songlistbuild[i].song_no}">${songlistbuild[i].song_name}</a></h4>
            <p>${songlistbuild[i].mem_name}</p>
          </div>
        </div>
        <div class="heart becomeRed"><img src="./img/collection/redheart.png"></div>
        <div class="clearfix"></div>
      </li>`);
                    }
                } else {
                    for (let i = 0; i < songlistbuild.length; i++) {
                        $('#player .list ul').append(`<li>
        <div class="songCover">
          <img src="${songlistbuild[i].song_pic}" alt="">
          <div class="listPlay"><img src="./img/library/coverPlay-s.png"></div>
        </div>
        <div class="listSongInfo">
          <div class="name">
            <h4><a href="./songinfo.html?song_no=${songlistbuild[i].song_no}">${songlistbuild[i].song_name}</a></h4>
            <p>${songlistbuild[i].mem_name}</p>
          </div>
        </div>
        <div class="heart"><img src="./img/collection/grayheart.png"></div>
        <div class="clearfix"></div>
      </li>`);
                    }
                }
            } else {
                $('#player .list ul').append(`<li style="text-align:center;color:#aaa">No songs</li>`);
            }
        }

        //build lightbox -- allmylist
        function lightListName(ListInfo) {
            let ul;
            $('#myAllList ul').children().remove();
            ul = $('#myAllList ul');
            if (vm.member.mem_no) {
                ul.append(`<li class="chooseList">Liked songs</li>`);
                for (let i = 0; i < ListInfo.length; i++) {
                    ul.append(`<li>${ListInfo[i].plist_name}</li>`);
                }
            } else {
                ul.append(`<li class="chooseList">Total songs</li>`);
            }
        }

        //localstorage
        function isLocalHave() {
            if (localStorage['listName']) {
                playerListName = localStorage['listName'];
                getOtherPlayList();
            }
            if (localStorage.length != 0) {
                nowPlaying = localStorage["nowPlaying"];
                audio.currentTime = localStorage['songTime'];
            } else {
                nowPlaying = 0;
            }
            if (localStorage["playStatus"] == "true") {
                playStatus = false;
                $('#player audio').attr("autoplay", true);
            } else {
                $('#player audio').attr("autoplay", false);
                playStatus = true;
            }
            if (myPlaylist.length != 0) {
                $('#player audio').attr("src", myPlaylist[nowPlaying].song_addr);
            }
            $('#player audio').attr("src", myPlaylist[nowPlaying].song_addr);
            audio.load();
            isPlaying(playStatus);
            progressingShow();
            listStatus();
        }

        //播放狀態控制 -- 如果沒有播放就讓他撥
        function isPlaying(isPlaying) {
            playerAuto = true;
            context.resume().then(() => {
                if (!isPlaying) {
                    audio.play();
                    $("#player .play").html('<i class="fas fa-pause"></i>');
                    $(".listPlay.nowlistening").html('<img src="./img/library/coverPause-s.png">');
                    $("#player .player_b .coverRec").animate({
                        right: "-50%",
                        opacity: "1"
                    }, "fast", "swing").addClass("recRotate");
                    if (home_play === false) {
                        if (temporary === true) {
                            home_play = true;
                            document.querySelector(`.home_play[data-songNo="${vm.play_song_info.song_no}"]`).setAttribute('data-playStatus', 'true');
                            document.querySelector(`.home_play[data-songNo="${vm.play_song_info.song_no}"] i.fa-play`).classList.add('fa-pause')
                            document.querySelector(`.home_play[data-songNo="${vm.play_song_info.song_no}"] i.fa-play`).classList.remove('fa-play')
                        }
                    }
                    playStatus = true;
                    if (waveLooperSwitch === false) {
                        waveLooper();
                    }
                    listStatus();
                } else {
                    audio.pause();
                    $("#player .play").html('<i class="fas fa-play"></i>');
                    $(".listPlay.nowlistening").html('<img src="./img/library/coverPlay-s.png">');
                    if (home_play === true) {
                        if (temporary === true) {
                            document.querySelector('.home_play[data-playStatus=true]').setAttribute('data-playStatus', 'false');
                            document.querySelector('.home_play i.fa-pause').classList.add('fa-play')
                            document.querySelector('.home_play i.fa-pause').classList.remove('fa-pause')
                        }
                    }
                    playStatus = false;

                    listStatus();
                    $("#player .player_b .coverRec").animate({
                        right: "0%"
                    }).removeClass("recRotate");
                    home_play = false;
                }
            });
            $("#player .songInfo .name").text(myPlaylist[nowPlaying].song_name);
            $("#player .songInfo .creator").text(myPlaylist[nowPlaying].mem_name);
            $("#player .info img").not(".coverRec img").not(".heart img").attr("src", myPlaylist[nowPlaying].song_pic);
            document.querySelector('.home_cover_img').style.background = `url(${myPlaylist[nowPlaying].song_pic})`;
            document.querySelector('.home_cover_img').style.backgroundSize = 'cover';
        }

        //進度條 -- timer
        function progressingShow() {
            songTime = audio.currentTime;

            //存進localstorage
            localStorage.setItem("nowPlaying", nowPlaying);
            localStorage.setItem("songTime", songTime);
            localStorage.setItem("playStatus", playStatus);
            if (playerListName != 'Liked songs' && playerListName != 'Total songs' && playerListName != "") {
                localStorage.setItem("listName", playerListName);
            } else if (playerListName == 'Liked songs' || playerListName == 'Total songs') {
                localStorage.removeItem('listName');
            }

            let progressColor = (songTime / audio.duration) * 100;
            if (audio.ended) {
                if (!playerAuto) {
                    autoChange(false);
                    audio.currentTime = 0;
                    isPlaying(true);
                } else {
                    autoChange(true);
                }
            }
            // console.log(audio.duration); //歌曲總長秒數
            $("#player .progress").css("width", `${progressColor.toFixed(2)}%`);
            $("#player span.start").text(`${parseInt(songTime / 60)}:${parseInt(songTime % 60)}`)
            $("#player span.end").text(`${parseInt(audio.duration / 60)}:${parseInt(audio.duration % 60)}`);
            //順便同步音量
            $(".player_b .volLine .volControl").css('width', `${parseInt(audio.volume * 100)}%`);
            $(".player_s .volLine .volControl").css('width', `${parseInt(audio.volume * 100)}%`);
            window.requestAnimationFrame(progressingShow);
        }

        //自動換下一首
        function autoChange(autoStatus) {
            if (autoStatus) {
                //隨機撥放
                if ($("#player .rand").hasClass("becomeYel")) {
                    let randNum = parseInt(Math.random() * (listLen));
                    nowPlaying = randNum;
                    $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                    audio.load();
                    isPlaying(false);
                    listStatus();
                } else {
                    if (nowPlaying == listLen - 1) {
                        if (audio.ended) {
                            audio.currentTime = 0;
                            isPlaying(true);
                        } else {
                            isPlaying(false);
                        }
                    } else {
                        if (audio.ended) {
                            nowPlaying++;
                            $("#player audio").attr("src", myPlaylist[nowPlaying].song_addr);
                            audio.load();
                            isPlaying(false);
                            listStatus();
                        }
                    }
                }
            }
        }

        //清單播放狀態
        function listStatus() {
            $(`.player_b .listPlay`).removeClass("nowlistening");
            //  $(`.songCover .listPlay`).removeClass("nowlistening");
            $(`.player_b li:nth-of-type(${nowPlaying + 1}) .listPlay`).addClass("nowlistening");
            //  $(`.songs li:nth-of-type(${nowPlaying+1}) .listPlay`).addClass("nowlistening");
            if (playStatus) {
                $(`.player_b li:nth-of-type(${nowPlaying + 1}) .listPlay`).html('<img src="./img/library/coverPause-s.png">');
                //  $(`.songs li:nth-of-type(${nowPlaying+1}) .listPlay`).html('<img src="./img/library/coverPause-s.png">');
            } else {
                $(`.player_b li:nth-of-type(${nowPlaying + 1}) .listPlay`).html('<img src="./img/library/coverPlay-s.png">');
                //  $(`.songs li:nth-of-type(${nowPlaying+1}) .listPlay`).html('<img src="./img/library/coverPlay-s.png">');
            }
        }
        //音量控制
        function volPos(mousePos) {
            let vol_bwidth = $(".player_b .volLine").width();
            if ($("#player .player_b").hasClass("open")) {
                vol_b = mousePos - $(".player_b .volLine").offset().left;
                vol_b = parseInt((vol_b / 100) * 100);
                if (vol_bwidth == 100) {
                    $(".player_b .volicon i").css('color', '#333');
                    vol_b = parseInt((vol_b / 100) * 100);
                    if (vol_b < 0) {
                        vol_b = 0;
                        $(".player_b .volicon i").css('color', '#f1c40f');
                    } else if (vol_b > 100) {
                        $(".player_b .volicon i").css('color', '#333');
                        vol_b = 100;
                    }
                    audio.volume = vol_b / 100;
                    $(".player_b .volLine .volControl").css('width', `${vol_b}%`);
                } else {
                    vol_s = parseInt((vol_s / vol_bwidth) * 100);
                    $(".player_b .volicon i").css('color', '#333');
                    vol_b = parseInt((vol_b / vol_bwidth) * 100);
                    if (vol_b < 0) {
                        vol_b = 0;
                        $(".player_b .volicon i").css('color', '#f1c40f');
                    } else if (vol_b > 100) {
                        $(".player_b .volicon i").css('color', '#333');
                        vol_b = 100;
                    }
                    audio.volume = vol_b / 100;
                    $(".player_b .volLine .volControl").css('width', `${vol_b}%`);
                }
            } else {
                vol_s = mousePos - $(".player_s .volLine").offset().left;
                vol_s = parseInt((vol_s / 100) * 100);
                $(".player_s .volicon i").css('color', 'white');
                if (vol_s < 0) {
                    vol_s = 0;
                    $(".player_s .volicon i").css('color', '#f1c40f');
                } else if (vol_s > 100) {
                    $(".player_s .volicon i").css('color', 'white');
                    vol_s = 100;
                }
                audio.volume = vol_s / 100;
                $(".player_s .volLine .volControl").css('width', `${vol_s}%`);
            }
        }

        //player歌曲索引值
        function getPlayerSongIndex(name) {
            let songName = [];
            for (let i = 0; i < myPlaylist.length; i++) {
                songName.push(myPlaylist[i].song_name);
            }
            let songind = songName.indexOf(name);
            return songind;
        }


        //抓清單索引值
        function getPlayerListIndex(name) {
            let listName = [];
            for (let i = 0; i < myPlaylist.length; i++) {
                listName.push(myPlaylist[i].plist_name);
            }
            let listind = listName.indexOf(name);
            return listind;
        }

        //收藏狀態
        function playerFavorStatus(favorSong) {
            let xhr = new XMLHttpRequest();
            xhr.onload = function () {
                if (xhr.status == 200) {
                    if (xhr.responseText == 'Asuccess') {
                        alert('Success to add');
                    } else if (xhr.responseText == 'Dsuccess') {
                        alert('Success to cancel');
                    } else if (xhr.responseText == 'Afail') {
                        alert('Fail to add');
                    } else if (xhr.responseText == 'Dfail') {
                        alert('Fail to cancel');
                    }
                    //  createPlayerList(nowList);
                } else {
                    alert(xhr.statusText);
                }
            };
            xhr.open("post", "./phps/LibraryHeart.php", true);
            xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');
            let data_info = `favorStatus=${$('#playerfavorStatus').val()}&favorSong=${favorSong}`;
            xhr.send(data_info);
        }

    </script>
</body>

</html>