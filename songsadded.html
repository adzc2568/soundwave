<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Song Upload</title>
    <link rel="stylesheet" href="./css/songupload.css">
    <link rel="stylesheet" href="./css/public.css">
    <link rel="stylesheet" href="./css/nav_bar.css">
    <link rel="stylesheet" href="./css/home.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pagePiling.js/1.5.6/jquery.pagepiling.min.js"></script>
    <style>
        .leftli {
            list-style-type: none;
        }

        .leftli ul {
            list-style-type: none;
            padding: 0px;
        }

        body {
            background: url(./img/songupload/addimg0.jpg);
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="nav_bar flexbox">
            <div class="hamburger" @click="hamburger_click">
                <div class="hamburger-box">
                    <div class="hamburger-inner"></div>
                </div>
            </div>
            <div class="mobile_list" @click="stopPropagation">
                <div class="paint_border"></div>
                <ul>
                    <li class="REMIX flexbox">
                        <a href="">
                        </a>
                    </li>
                    <li class="COLLECTION flexbox">
                        <a href="">
                        </a>
                    </li>
                    <li class="ACTIVITY flexbox">
                        <a href="">
                        </a>
                    </li>
                    <li class="LIBRARY flexbox">
                        <a href="">
                        </a>
                    </li>
                </ul>
            </div>

            <div class="logo_container">
                <a href="">
                    <div class="logo"></div>
                </a>
            </div>
            <ul class="main_list flexbox">
                <li class="REMIX flexbox">
                    <a href="">
                    </a>
                </li>
                <li class="COLLECTION flexbox">
                    <a href="">
                    </a>
                </li>
                <li class="ACTIVITY flexbox">
                    <a href="">
                    </a>
                </li>
                <li class="LIBRARY flexbox">
                    <a href="">
                    </a>
                </li>
            </ul>
            <div class="search_bt" @click="search_bt_click">
                <a href="#"></a>
            </div>
            <div class="search_bar">
                <input class="search" type="text" />
                <div class="tag_container">
                </div>
            </div>
            <div class="mem_bt" @click="mem_bt_click">
                <a href="#"></a>
            </div>
            <div class="mem_list" @click="stopPropagation">
                <div class="paint_border"></div>
                <ul>
                    <li>
                        <a href="">
                            <h4>Profile</h4>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <h4>Favorite</h4>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <h4>
                                Song Upload
                                <br />&amp; Remove
                            </h4>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <h4>
                                Store Value
                                <br />&amp;Store Record
                            </h4>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <h4>Donate Record</h4>
                        </a>
                    </li>
                </ul>
            </div>

        </div>
    </div>
    <header>
        <div class="bnr">
            <!-- <h1>Songs Added</h1> -->
            <img src="./img/songupload/addtitle.png" alt="">
        </div>
    </header>

    <section class="adds2">
        <ul class="leftli">
            <li class="lif">&emsp;UPLOAD SONG</li>
            <ul class="inside">
                <form action="" method="POST">
                    <article>
                        <p>
                            <img id="image" style="width: 300px;height: 300px;">
                        </p>
                        <input type="file" name="" id="theFile" style="color: rgba(0, 0, 0, 0);">
                    </article>
                    <div>
                        <p>Song Title : <input type="text" style="border: 1px solid #d0d6d6;"></p>
                        <input type="file" name="" id="" style="border: 1px solid #d0d6d6;">
                        <br>
                        <br>
                        <input type="checkbox" name="" id="">House&emsp;&emsp;&emsp;&ensp;&ensp;
                        <input type="checkbox" style="border-radius: 5px;" name="" id="">Trap
                        <br>
                        <input type="checkbox" name="" id="">#111111 &emsp;&emsp;&emsp;
                        <input type="checkbox" name="" id="">#222222 &emsp;&emsp;&emsp;
                        <input type="checkbox" name="" id="">#333333
                        <br>
                        <br>
                        <p>Introduction :</p>
                        <textarea name="" id="" cols="68" rows="4" style="border: 1px solid #d0d6d6;"></textarea>
                    </div>
                    <section><input type="image" id="sd" name="submit" src="./img/songupload/button_send.png"
                            onClick="document.form.submit()" style="width:80px;height:50px;margin-left:50px;"></section>
                </form>

            </ul>

            <li class="lif">&emsp;UPLOADED</li>
            <ul class="inside2">
                <li>two One</li>
                <li>two Two</li>
            </ul>
        </ul>
        <div class="uploadmic">
            <img src="./img/songupload/mic.png" alt="">
        </div>
    </section>

    <script>
        function doFirst() {
            //先跟HTML畫面產生關聯，再建事件聆聽功能
            document.getElementById('theFile').onchange = fileChange;
        }

        function fileChange() {
            let file = document.getElementById('theFile').files[0];
            let content = '';
            //========================

            let readFile = new FileReader();
            readFile.readAsDataURL(file);
            readFile.addEventListener('load', function () {
                let image = document.getElementById('image');
                image.src = this.result;
                image.style.maxWidth = '500px';
                image.style.maxHeight = '400px';
            });
        }
        window.addEventListener('load', doFirst);
    </script>


    <script>
        let vm = new Vue({
            el: "#app",
            data: {
                search_bar: false,
                mem_list: false,
                mobile_list: false,
            },
            methods: {
                hamburger_click(e) {
                    // e.stopPropagation();
                    document
                        .querySelector(".hamburger").classList.toggle("is-active");
                },
                search_bt_click(e) {
                    e.stopPropagation();
                    if (this.search_bar == false) {
                        this.search_bar = true;
                        this.mem_list = false;
                        this.mobile_list = false;
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 240px; filter: opacity(1);");
                        document.querySelector("input.search").focus();
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    } else {
                        this.search_bar = false;
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                        document.querySelector("input.search").blur();
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    }
                },

                stopPropagation(e) {
                    e.stopPropagation();
                },

                mem_bt_click(e) {
                    e.stopPropagation();
                    if (this.mem_list == false) {
                        this.mem_list = true;
                        this.search_bar = false;
                        this.mobile_list = false;
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(0); filter: opacity(1);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    } else {
                        this.mem_list = false;
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                    }
                },

                hamburger_click(e) {
                    e.stopPropagation();
                    if (this.mobile_list == false) {
                        this.mobile_list = true;
                        this.mem_list = false;
                        this.search_bar = false;
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(0); filter: opacity(1);");
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                    } else {
                        this.mobile_list = false;
                        document
                            .querySelector(".mobile_list")
                            .setAttribute("style", "transform: translateX(-270px); filter: opacity(0);");
                        document
                            .querySelector(".mem_list")
                            .setAttribute("style", "transform: translateX(270px); filter: opacity(0);");
                        document
                            .querySelector(".search_bar")
                            .setAttribute("style", "height: 0px; filter: opacity(0);");
                    }
                },
            }
        });
    </script>
    <script>
        $(function () {
            //設定DIV的高度跟隨螢幕變化而變化，類似於自適應
            $(".leftli").height(document.body.scrollHeight);

            $(".leftli ul.inside2").hide();

            //bind()為.leftli li的li生成點選事件
            $(".leftli li").bind("click", function () {
                /**
                .netx("ul")獲取同級的下一個ul元素
                slideToggle(300)展開/關閉當前被點選的ul元素，300為速度，除了可以是數字還可以"slow"、"normal"、"fast"
                siblings("ul")遍歷所有的ul元素
                **/
                $(this).next("ul").slideToggle(300).siblings("ul").slideUp(300);
            })
        });
    </script>
</body>

</html>